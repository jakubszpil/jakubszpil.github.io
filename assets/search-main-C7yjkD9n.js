import{B as e,I as t,M as n,R as r,j as i,r as a}from"./chunk-JZWAC4HX-D-dLUVoh.js";import{t as o}from"./jsx-runtime-pMAAsl3t.js";import{a as s,o as c}from"./date-ttUNgWOe.js";import"./link-with-prefetch-MX4RRoze.js";import{s as l}from"./icons-CV5FzJYv.js";import"./creation-date-CMGEiOnT.js";import"./banner-D6OgV2JO.js";import{t as u}from"./article-cards-CnT7U3bK.js";import{t as d}from"./meta-butANAV2.js";import{t as f}from"./course-cards-WEfok5G0.js";import{t as p}from"./project-cards-3qD00xzn.js";import{n as m}from"./search-DlS-8gPM.js";var h=e(r(),1),g=e(o(),1);function _({className:e,type:t,...n}){return(0,g.jsx)(`input`,{type:t,"data-slot":`input`,className:c(`file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,`focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]`,`aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive`,e),...n})}function v({action:e,query:t,articles:r,courses:i,projects:o}){let c=(0,h.useRef)(null),u=n();(0,h.useEffect)(()=>{u.state?.focus&&c.current?.focus()},[c,u.state]);let d=(0,h.useCallback)((e,t,n)=>n?.map((n,r)=>(0,g.jsx)(`option`,{value:n.title,children:e},`${t}-${r}`)),[]);return(0,g.jsxs)(a,{preventScrollReset:!0,method:`get`,className:`container py-0! bg-background flex gap-2`,action:e,children:[(0,g.jsx)(_,{ref:c,type:`search`,name:`q`,placeholder:`Tre≈õƒá zapytania`,defaultValue:t??``,required:!0,className:`flex-1 relative text-sm`,list:`search-datalist`},t),(0,g.jsxs)(`datalist`,{id:`search-datalist`,children:[d(`üìù Artyku≈Ç`,`articles`,r),d(`üè´ Kurs`,`courses`,i),d(`üõ†Ô∏è Projekt`,`projects`,o)]}),(0,g.jsxs)(s,{type:`submit`,children:[(0,g.jsx)(l,{className:`size-5`}),`Szukaj`]})]})}const y=d(({loaderData:e})=>({title:e?.query?`(${e.count}) Rezultaty wyszukiwania dla ${e.query}`:`Szukaj`}));var b=t(function(){let{query:e,results:t,initialResults:n,count:r}=i(),a=(0,h.useCallback)(e=>e.length?(0,g.jsxs)(`section`,{children:[(0,g.jsxs)(`h3`,{children:[`Artyku≈Çy (`,e.length,`)`]}),(0,g.jsx)(u,{className:`p-0 grid-cols-subgrid`,articles:e})]}):null,[]),o=(0,h.useCallback)(e=>e.length?(0,g.jsxs)(`section`,{children:[(0,g.jsxs)(`h3`,{children:[`Kursy (`,e.length,`)`]}),(0,g.jsx)(f,{className:`p-0 grid-cols-subgrid`,courses:e})]}):null,[]),s=(0,h.useCallback)(e=>e.length?(0,g.jsxs)(`section`,{children:[(0,g.jsxs)(`h3`,{children:[`Projekty (`,e.length,`)`]}),(0,g.jsx)(p,{className:`p-0 grid-cols-subgrid`,projects:e})]}):null,[]),c=(0,h.useCallback)(()=>{if(!e)return null;if(!r)return(0,g.jsxs)(`h2`,{children:[`Brak wynik√≥w wyszukiwania dla zapytania: `,e]});let{articles:n,courses:i,projects:c}=t;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(`h2`,{children:[`Wyniki wyszukiwania (`,r,`)`]}),(0,g.jsxs)(`div`,{className:`grid grid-cols-1`,children:[a(n),o(i),s(c)]})]})},[e,r,t,a,o,s]);return(0,g.jsxs)(`section`,{className:`prose max-w-full`,children:[(0,g.jsxs)(`header`,{className:`container pb-0!`,children:[(0,g.jsx)(`h1`,{className:`mb-0`,children:`Szukaj`}),(0,g.jsx)(`p`,{children:`Wskaz√≥wka: Obszary po kt√≥rych mo≈ºesz szukaƒá:`}),(0,g.jsxs)(`ul`,{children:[(0,g.jsx)(`li`,{children:`Artyku≈Çy: (tytu≈Ç, opis, s≈Çowa klucz, kategorie, d≈Çugo≈õƒá czytania)`}),(0,g.jsx)(`li`,{children:`Kursy: (tytu≈Ç, opis, s≈Çowa klucz, kategorie, d≈Çugo≈õƒá czytania)`}),(0,g.jsx)(`li`,{children:`Projekty: (tytu≈Ç, opis, s≈Çowa klucz, technologie)`})]}),(0,g.jsx)(`p`,{children:`Mo≈ºesz te≈º wkleiƒá skopiowany link aby spr√≥bowaƒá przej≈õƒá do wskazanej strony`})]}),(0,g.jsx)(v,{action:`/search`,query:e,articles:n?.articles??[],courses:n?.courses??[],projects:n?.projects??[]}),(0,g.jsx)(`div`,{className:`container pt-0!`,children:c()})]})});export{b as default,y as meta};