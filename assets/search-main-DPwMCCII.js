import{B as e,H as t,L as n,M as r,N as i,i as a,t as o}from"./jsx-runtime-C_PgplXg.js";import{O as s,m as c,n as l,s as u}from"./src-QA8DG-eg.js";import{t as d}from"./article-cards-vZk4mqNI.js";import"./article-categories-CegcIG4S.js";import{t as f}from"./course-cards-Bzf2b84Z.js";import"./course-categories-Bg4X9Zkj.js";import{t as p}from"./project-cards-Bp6B-8QD.js";import"./src-ofW0Gf3L.js";import{n as m}from"./search-CjjtldU7.js";var h=t(e()),g=t(o());const _=l(({loaderData:e})=>({title:e?.query?`(${e.count}) Rezultaty wyszukiwania dla ${e.query}`:`Szukaj`}));var v=n(function(){let{query:e,results:{articles:t,courses:n,projects:o},initialResults:l,count:m}=r(),_=(0,h.useRef)(null),v=i();(0,h.useEffect)(()=>{v.state?.focus&&_.current?.focus()},[_,v.state]);let y=(0,h.useCallback)(()=>t.length?(0,g.jsxs)(`section`,{children:[(0,g.jsxs)(`h3`,{children:[`ArtykuÅ‚y (`,t.length,`)`]}),(0,g.jsx)(d,{className:`p-0 grid-cols-subgrid`,articles:t})]}):null,[t]),b=(0,h.useCallback)(()=>n.length?(0,g.jsxs)(`section`,{children:[(0,g.jsxs)(`h3`,{children:[`Kursy (`,n.length,`)`]}),(0,g.jsx)(f,{className:`p-0 grid-cols-subgrid`,courses:n})]}):null,[n]),x=(0,h.useCallback)(()=>o.length?(0,g.jsxs)(`section`,{children:[(0,g.jsxs)(`h3`,{children:[`Projekty (`,o.length,`)`]}),(0,g.jsx)(p,{className:`p-0 grid-cols-subgrid`,projects:o})]}):null,[o]),S=(0,h.useCallback)(()=>e?m?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(`h2`,{children:[`Wyniki wyszukiwania (`,m,`)`]}),(0,g.jsxs)(`div`,{className:`grid grid-cols-1`,children:[y(),b(),x()]})]}):(0,g.jsxs)(`h2`,{children:[`Brak wynikÃ³w wyszukiwania dla zapytania: `,e]}):null,[e,m,_,y,b,x]),C=(0,h.useCallback)((e,t,n)=>n?.map((n,r)=>(0,g.jsx)(`option`,{value:n.title,children:e},`${t}-${r}`)),[]),w=(0,h.useCallback)(()=>{let{articles:e,courses:t,projects:n}=l;return(0,g.jsxs)(g.Fragment,{children:[C(`ğŸ“ ArtykuÅ‚`,`articles`,e),C(`ğŸ« Kurs`,`courses`,t),C(`ğŸ› ï¸ Projekt`,`projects`,n)]})},[l,C]);return(0,g.jsxs)(`section`,{className:`prose max-w-full`,children:[(0,g.jsxs)(`header`,{className:`container pb-0!`,children:[(0,g.jsx)(`h1`,{className:`mb-0`,children:`Szukaj`}),(0,g.jsx)(`p`,{children:`WskazÃ³wka: Obszary po ktÃ³rych moÅ¼esz szukaÄ‡:`}),(0,g.jsxs)(`ul`,{children:[(0,g.jsx)(`li`,{children:`ArtykuÅ‚y: (tytuÅ‚, opis, sÅ‚owa klucz, kategorie, dÅ‚ugoÅ›Ä‡ czytania)`}),(0,g.jsx)(`li`,{children:`Kursy: (tytuÅ‚, opis, sÅ‚owa klucz, kategorie, dÅ‚ugoÅ›Ä‡ czytania)`}),(0,g.jsx)(`li`,{children:`Projekty: (tytuÅ‚, opis, sÅ‚owa klucz, technologie)`})]}),(0,g.jsx)(`p`,{children:`MoÅ¼esz teÅ¼ wkleiÄ‡ skopiowany link aby sprÃ³bowaÄ‡ przejÅ›Ä‡ do wskazanej strony`})]}),(0,g.jsxs)(a,{preventScrollReset:!0,method:`get`,className:`container py-0! bg-background flex gap-2`,action:`/search`,children:[(0,g.jsx)(u,{ref:_,type:`search`,name:`q`,placeholder:`TreÅ›Ä‡ zapytania`,defaultValue:e??``,required:!0,className:`flex-1 relative text-sm`,list:`search-datalist`},e),(0,g.jsx)(`datalist`,{id:`search-datalist`,children:w()}),(0,g.jsxs)(s,{type:`submit`,children:[(0,g.jsx)(c,{className:`size-5`}),`Szukaj`]})]}),(0,g.jsx)(`div`,{className:`container pt-0!`,children:S()})]})});export{v as default,_ as meta};