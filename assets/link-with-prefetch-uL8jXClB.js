import{r as i,D as T,m as w,j as x,L as C}from"./index-3upNhjDb.js";function R(e){const{routes:l}=i.useContext(T).router,[f,d]=i.useState(!1),c=i.useCallback(()=>{var u;f||((u=w(l,e.to))==null||u.forEach(async a=>{var t,r;const o=new URL(`${window.location.origin}${a.pathname}`),n={params:a.params,request:new Request(o)};a.route.loader instanceof Function&&await a.route.loader(n),(r=(t=a.route).lazy)==null||r.call(t).then(async h=>{h.loader instanceof Function&&await h.loader(n)})}),d(!0))},[f,e.to,l]),m=i.useMemo(()=>{let u=null;const a=()=>{u=setTimeout(c,50)},o=()=>{u!==null&&(clearTimeout(u),u=null)};return{onClick:n=>{var t;c(),(t=e.onClick)==null||t.call(e,n)},onTouchStartCapture:n=>{var t;c(),(t=e.onTouchStartCapture)==null||t.call(e,n)},onTouchStart:n=>{var t;c(),(t=e.onTouchStart)==null||t.call(e,n)},onMouseEnter:n=>{var t;a(),(t=e.onMouseEnter)==null||t.call(e,n)},onMouseLeave:n=>{var t;o(),(t=e.onMouseLeave)==null||t.call(e,n)},onFocus:n=>{var t;a(),(t=e.onFocus)==null||t.call(e,n)},onBlur:n=>{var t;o(),(t=e.onBlur)==null||t.call(e,n)}}},[c,e]);return x.jsx(C,{...e,...m})}export{R as L};
