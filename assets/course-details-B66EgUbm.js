import{w as z}from"./with-props-6u4IzgF-.js";import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{y as q,a as u,z as E}from"./chunk-DQRVZFIR-C10YmIek.js";import{C as A}from"./categories-C4GAQ0Jd.js";import{B as h}from"./button-CMyC4ecm.js";import{E as D}from"./edit-resource-DyHvAXQH.js";import{S as O}from"./seo-CmT0AzEI.js";import"./link-with-prefetch-CMXBjVzK.js";var m={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var w;function M(){return w||(w=1,function(r){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=f(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=f(o,l));return o}function f(s,o){return o?s?s+" "+o:s+o:s}r.exports?(n.default=n,r.exports=n):window.classNames=n})()}(m)),m.exports}var P=M();const Q=q(P);function y(r){const e=[...r];for(let n=e.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[e[n],e[i]]=[e[i],e[n]]}return e}function R(r){const e=r.options[r.answer],n=y(r.options),i=n.indexOf(e);return{...r,options:n,answer:i}}function g(r){const[e,...n]=r.questions;return[e,...y(n).map(R)]}function _({quiz:r}){const[e,n]=u.useState(0),[i,f]=u.useState(null),[s,o]=u.useState(!1),[l,x]=u.useState(0),[S,j]=u.useState(!1),[d,v]=u.useState(()=>g(r)),c=d[e],p=c.options[c.answer],N=c.options,C=u.useCallback(a=>{s||(f(a),o(!0),a===p&&x(k=>k+1))},[s,p]),b=u.useCallback(()=>{o(!1),f(null),e+1<d.length?n(e+1):j(!0)},[e,d.length]);return S?t.jsxs("div",{className:"container prose",children:[t.jsx("h2",{children:r.title}),t.jsxs("p",{children:["Wynik: ",l," / ",d.length]}),t.jsx(h,{size:"sm",onClick:()=>{n(0),f(null),o(!1),x(0),j(!1),v(g(r))},children:"Rozwiąż ponownie"})]}):t.jsxs("div",{className:"container prose",children:[t.jsx("h2",{children:r.title}),t.jsxs("div",{children:[t.jsxs("h4",{children:["Pytanie ",e+1," z ",d.length]}),t.jsx("div",{dangerouslySetInnerHTML:{__html:c.question}}),t.jsx("div",{className:"grid grid-flow-row gap-3",children:N.map(a=>t.jsx(h,{size:"sm",variant:"outline",className:Q("w-full text-left inline-flex justify-start transition-none text-wrap !min-h-min py-1.5",s?"cursor-default hover:!text-inherit":"cursor-pointer",s&&a===p?"!bg-green-400 dark:!bg-green-800":i===a&&s&&a!==p?"!bg-red-400 dark:!bg-red-800":s&&"hover:!bg-inherit"),onClick:()=>C(a),children:a},a))}),s&&t.jsxs("div",{className:"mt-3",children:[i===p?t.jsx("span",{className:"text-green-500",children:"✅ Dobrze!"}):t.jsxs("span",{className:"text-red-500",children:["❌ Błędna odpowiedź. Poprawna:"," ",t.jsx("strong",{children:c.options[c.answer]})]}),c.explanation&&t.jsx("blockquote",{className:"my-3",children:c.explanation}),t.jsx(h,{size:"sm",onClick:b,children:e+1<d.length?"Następne pytanie":"Zakończ quiz"})]})]})]})}const W=z(function(){const e=E();return t.jsxs(t.Fragment,{children:[t.jsx(O,{title:e.title,description:e.description,keywords:e.keywords}),t.jsxs("header",{className:"prose container",children:[t.jsx("h1",{children:e.title}),t.jsx(A,{categories:e.categories})]}),t.jsx("article",{className:"prose container prose-emerald",dangerouslySetInnerHTML:{__html:e.content}}),e.quiz&&t.jsx(_,{quiz:e.quiz}),t.jsx(D,{resourceUrl:e.resourceUrl})]})});export{W as default};
