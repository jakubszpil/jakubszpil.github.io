import{w as f,C as y,a as i,x as g,G as k}from"./chunk-OIYGIGL5-O_YVIGSA.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{P as u}from"./posts-Bj6cesLL.js";import{P as b}from"./projects-iQj6dT_t.js";import{B as w}from"./button-DcUA-G_Y.js";import{c as z,S as v,a as N}from"./seo-Cr_fPi53.js";import{q as P}from"./search-ycOwD3qH.js";import"./banner-BzK-Qvfi.js";import"./creation-date-CnWFSORS.js";import"./date-NK96Yl5Q.js";import"./link-with-prefetch-BfwaU9HX.js";import"./compress-4O-l3cfM.js";function S({className:l,type:r,...s}){return e.jsx("input",{type:r,"data-slot":"input",className:z("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",l),...s})}const O=f(function(){const{query:r,results:s,initialResults:o,count:t}=y(),a=i.useRef(null),c=g();i.useEffect(()=>{c.state?.focus&&a.current?.focus()},[a,c.state]);const d=i.useCallback(()=>r?t?e.jsxs(e.Fragment,{children:[e.jsxs("h2",{children:["Wyniki wyszukiwania (",t,")"]}),s.articles.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Artykuły (",s.articles.length,")"]}),e.jsx(u,{pathPrefix:"/blog",className:"p-0! grid-cols-1!",posts:s.articles})]}),s.courses.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Kursy (",s.courses.length,")"]}),e.jsx(u,{pathPrefix:"/learning",className:"p-0! grid-cols-1!",posts:s.courses})]}),s.projects.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Projekty (",s.projects.length,")"]}),e.jsx(b,{className:"p-0! grid-cols-1!",projects:s.projects})]})]}):e.jsxs("h2",{children:["Brak wyników wyszukiwania dla zapytania: ",r]}):null,[s,r,t,a]),n=i.useCallback((p,h,m)=>m?.map((x,j)=>e.jsx("option",{value:x.title,children:p},`${h}-${j}`)),[]);return e.jsxs("section",{className:"prose max-w-full",children:[e.jsx(v,{title:r?`(${t}) Rezultaty wyszukiwania dla ${r}`:"Szukaj"}),e.jsxs("header",{className:"container pb-0!",children:[e.jsx("h1",{className:"mb-0",children:"Szukaj"}),e.jsx("p",{children:"Wskazówka: Obszary po których możesz szukać:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Artykuły: (tytuł, opis, słowa klucz, kategorie, długość czytania)"}),e.jsx("li",{children:"Kursy: (tytuł, opis, słowa klucz, kategorie, długość czytania)"}),e.jsx("li",{children:"Projekty: (tytuł, opis, słowa klucz, technologie)"})]}),e.jsx("p",{children:"Możesz też wkleić skopiowany link aby spróbować przejść do wskazanej strony"})]}),e.jsxs(k,{preventScrollReset:!0,method:"get",className:"container py-0! bg-background flex gap-2",action:"/search",children:[e.jsx(S,{ref:a,type:"search",name:P,placeholder:"Treść zapytania",defaultValue:r??"",required:!0,className:"flex-1 relative",list:"search-datalist"},r),e.jsxs("datalist",{id:"search-datalist",children:[n("📝 Artykuł","articles",o?.articles),n("🏫 Kurs","courses",o?.courses),n("🛠️ Projekt","projects",o?.projects)]}),e.jsxs(w,{type:"submit",children:[e.jsx(N,{className:"size-5"}),"Szukaj"]})]}),e.jsx("div",{className:"container pt-0!",children:d()})]})});export{O as default};
