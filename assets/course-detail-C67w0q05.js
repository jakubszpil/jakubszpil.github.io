import{A as e,I as t,R as n}from"./chunk-4WY6JWTD-Dl-7X7EE.js";import{t as r}from"./jsx-runtime-ly0LXrdC.js";import{a as i,i as a}from"./date-BI0BV0J8.js";import"./link-with-prefetch-BKz2spS2.js";import"./config-BUAGpBGS.js";import"./creation-date-C_bUiXAm.js";import{t as o}from"./banner-Do2iZST4.js";import{t as s}from"./seo-BtcUKGus.js";import{t as c}from"./categories-C8YO4Gky.js";import{t as l}from"./edit-resource-B2v1ditp.js";var u=n();function d(e){let t=[...e];for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}var f=r();function p(e){let t=e.options[e.answer],n=d(e.options),r=n.indexOf(t);return{...e,options:n,answer:r}}function m(e){let[t,...n]=e.questions;return[t,...d(n).map(p)]}function h({quiz:e}){let[t,n]=(0,u.useState)(0),[r,o]=(0,u.useState)(null),[s,c]=(0,u.useState)(!1),[l,d]=(0,u.useState)(0),[p,h]=(0,u.useState)(!1),[g,_]=(0,u.useState)(()=>m(e)),v=g[t],y=v.options[v.answer],b=v.options,x=(0,u.useCallback)(e=>{s||(o(e),c(!0),e===y&&d(e=>e+1))},[s,y]),S=(0,u.useCallback)(()=>{c(!1),o(null),t+1<g.length?n(t+1):h(!0)},[t,g.length]);return p?(0,f.jsxs)(`div`,{className:`container prose`,children:[(0,f.jsx)(`h2`,{children:e.title}),(0,f.jsxs)(`p`,{children:[`Wynik: `,l,` / `,g.length]}),(0,f.jsx)(a,{size:`sm`,onClick:()=>{n(0),o(null),c(!1),d(0),h(!1),_(m(e))},children:`Rozwiąż ponownie`})]}):(0,f.jsxs)(`div`,{className:`container prose`,children:[(0,f.jsx)(`h2`,{children:e.title}),(0,f.jsxs)(`div`,{children:[(0,f.jsxs)(`p`,{className:`font-bold mb-0!`,children:[`Pytanie `,t+1,` z `,g.length]}),(0,f.jsx)(`div`,{className:`prose-p:mt-2`,dangerouslySetInnerHTML:{__html:v.question}}),(0,f.jsx)(`div`,{className:`grid grid-flow-row gap-3`,children:b.map(e=>(0,f.jsx)(a,{size:`sm`,variant:`outline`,className:i(`w-full text-left inline-flex justify-start transition-none text-wrap! min-h-min! py-1.5`,s?`cursor-default hover:text-inherit!`:`cursor-pointer`,s&&e===y?`bg-green-400! dark:bg-green-800!`:r===e&&s&&e!==y?`bg-red-400! dark:bg-red-800!`:s&&`hover:bg-inherit!`),onClick:()=>x(e),children:e},e))}),s&&(0,f.jsxs)(`div`,{className:`mt-3`,children:[r===y?(0,f.jsx)(`span`,{className:`text-green-500`,children:`✅ Dobrze!`}):(0,f.jsxs)(`span`,{className:`text-red-500`,children:[`❌ Błędna odpowiedź. Poprawna:`,` `,(0,f.jsx)(`strong`,{children:v.options[v.answer]})]}),v.explanation&&(0,f.jsx)(`blockquote`,{className:`my-3`,children:v.explanation}),(0,f.jsx)(a,{size:`sm`,onClick:S,children:t+1<g.length?`Następne pytanie`:`Zakończ quiz`})]})]})]})}var g=t(function(){let t=e();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{title:t.title,description:t.description,keywords:t.keywords,publishedTime:t.createdAt,type:`article`}),(0,f.jsxs)(`header`,{className:`prose container`,children:[(0,f.jsx)(`h1`,{className:`mb-5`,children:t.title}),(0,f.jsx)(o,{className:`my-6`,createdAt:t.createdAt,readingTime:t.readingTime}),(0,f.jsx)(c,{categories:t.categories,baseUrl:`/learning`,categoryPrefixUrl:`/learning/kategorie`})]}),(0,f.jsx)(`article`,{className:`prose container pt-0 prose-emerald`,dangerouslySetInnerHTML:{__html:t.content}}),t.quiz&&(0,f.jsx)(h,{quiz:t.quiz}),(0,f.jsx)(l,{slug:t.slug,resourceType:`courses`})]})});export{g as default};