import{D as e,_ as t}from"./chunk-4WY6JWTD-Dl-7X7EE.js";import{t as n}from"./src-FAX0eCHP.js";const r=`query`;var i=new Map;function a(e,t){if(t&&i.has(t))return i.get(t);let n=e=>t?JSON.stringify(e).toLowerCase().includes(t.toLowerCase()):!1,r=Object.fromEntries(Object.entries(e).map(([e,t])=>[e,t.filter(n)]));return t&&i.set(t,r),r}function o(e){return Object.values(e).reduce((e,{length:t})=>e+t,0)}function s(i){let a=new URL(i),o=a.searchParams.get(r);if(o){if(o===``)throw a.searchParams.delete(r),e(a.toString());let t=o.trim().split(` `).filter(Boolean).join(` `);if(o!==t)throw t?a.searchParams.set(r,t):a.searchParams.delete(r),e(a.toString())}if(o&&n(o)){let n=new URL(i),r=new URL(o);if(n.origin===r.origin)throw e(t(r))}return o}async function c({request:e,serverLoader:t}){let n=await t(),r=s(e.url),i=a(n,r);return{results:i,initialResults:n,query:r,count:o(i)}}c.hydrate=!0;export{r as n,c as t};