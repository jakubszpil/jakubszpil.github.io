import{a as i,w as C,C as v}from"./chunk-EF7DTUVF-Beg5q4Vi.js";import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{C as z}from"./categories-Czl3xlY4.js";import{B as h,a as A}from"./button-Dc0qxXw-.js";import{B as q}from"./banner-DVAGTITa.js";import{E as B}from"./edit-resource-CCIQ5j0f.js";import{S as T}from"./seo-CtuN74pk.js";import"./link-with-prefetch-Bi5zGhe3.js";import"./creation-date-CW4LEdaa.js";import"./date-NK96Yl5Q.js";function j(t){const e=[...t];for(let n=e.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[e[n],e[a]]=[e[a],e[n]]}return e}function D(t){const e=t.options[t.answer],n=j(t.options),a=n.indexOf(e);return{...t,options:n,answer:a}}function f(t){const[e,...n]=t.questions;return[e,...j(n).map(D)]}function E({quiz:t}){const[e,n]=i.useState(0),[a,u]=i.useState(null),[l,m]=i.useState(!1),[g,p]=i.useState(0),[w,x]=i.useState(!1),[c,N]=i.useState(()=>f(t)),o=c[e],d=o.options[o.answer],b=o.options,k=i.useCallback(r=>{l||(u(r),m(!0),r===d&&p(S=>S+1))},[l,d]),y=i.useCallback(()=>{m(!1),u(null),e+1<c.length?n(e+1):x(!0)},[e,c.length]);return w?s.jsxs("div",{className:"container prose",children:[s.jsx("h2",{children:t.title}),s.jsxs("p",{children:["Wynik: ",g," / ",c.length]}),s.jsx(h,{size:"sm",onClick:()=>{n(0),u(null),m(!1),p(0),x(!1),N(f(t))},children:"Rozwiąż ponownie"})]}):s.jsxs("div",{className:"container prose",children:[s.jsx("h2",{children:t.title}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold !mb-0",children:["Pytanie ",e+1," z ",c.length]}),s.jsx("div",{className:"prose-p:mt-2",dangerouslySetInnerHTML:{__html:o.question}}),s.jsx("div",{className:"grid grid-flow-row gap-3",children:b.map(r=>s.jsx(h,{size:"sm",variant:"outline",className:A("w-full text-left inline-flex justify-start transition-none text-wrap !min-h-min py-1.5",l?"cursor-default hover:!text-inherit":"cursor-pointer",l&&r===d?"!bg-green-400 dark:!bg-green-800":a===r&&l&&r!==d?"!bg-red-400 dark:!bg-red-800":l&&"hover:!bg-inherit"),onClick:()=>k(r),children:r},r))}),l&&s.jsxs("div",{className:"mt-3",children:[a===d?s.jsx("span",{className:"text-green-500",children:"✅ Dobrze!"}):s.jsxs("span",{className:"text-red-500",children:["❌ Błędna odpowiedź. Poprawna:"," ",s.jsx("strong",{children:o.options[o.answer]})]}),o.explanation&&s.jsx("blockquote",{className:"my-3",children:o.explanation}),s.jsx(h,{size:"sm",onClick:y,children:e+1<c.length?"Następne pytanie":"Zakończ quiz"})]})]})]})}const U=C(function(){const e=v();return s.jsxs(s.Fragment,{children:[s.jsx(T,{title:e.title,description:e.description,keywords:e.keywords,publishedTime:e.createdAt,type:"article"}),s.jsxs("header",{className:"prose container",children:[s.jsx("h1",{className:"mb-5",children:e.title}),s.jsx(q,{className:"my-6",createdAt:e.createdAt,readingTime:e.readingTime}),s.jsx(z,{categories:e.categories})]}),s.jsx("article",{className:"prose container prose-emerald",dangerouslySetInnerHTML:{__html:e.content}}),e.quiz&&s.jsx(E,{quiz:e.quiz}),s.jsx(B,{resourceUrl:e.resourceUrl})]})});export{U as default};
