import{D as e,_ as t}from"./chunk-UIGDSWPH-DHsZB6vt.js";import{t as n}from"./compress-haXepIH3.js";const r=e=>{try{return new URL(e),!0}catch{return!1}},i=`query`;var a=new Map;function o(e,t){if(t&&a.has(t))return a.get(t);let n=e=>t?JSON.stringify(e).toLowerCase().includes(t.toLowerCase()):!1,r=Object.fromEntries(Object.entries(e).map(([e,t])=>[e,t.filter(n)]));return t&&a.set(t,r),r}function s(e){return Object.values(e).reduce((e,{length:t})=>e+t,0)}function c(n){let a=new URL(n),o=a.searchParams.get(i);if(o){if(o===``)throw a.searchParams.delete(i),e(a.toString());let t=o.trim().split(` `).filter(Boolean).join(` `);if(o!==t)throw t?a.searchParams.set(i,t):a.searchParams.delete(i),e(a.toString())}if(o&&r(o)){let r=new URL(n),i=new URL(o);if(r.origin===i.origin)throw e(t(i))}return o}async function l({request:e,serverLoader:t}){let r=await t(),i=n(r),a=c(e.url),l=o(i,a),u=s(l);return{results:l,initialResults:i,query:a,count:u}}l.hydrate=!0;export{i as n,l as t};