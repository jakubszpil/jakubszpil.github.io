import{w as h,C as x,a as i,x as j,D as f}from"./chunk-UH6JLGW7-Oh62NarD.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{A as y}from"./articles-C6ZNL-jm.js";import{C as k}from"./courses-Dp-20kXZ.js";import{P as g}from"./projects-CYU_pOq8.js";import{b,B as w}from"./button-CvnIeYAA.js";import{S as z}from"./seo-CT9R_xpG.js";import{q as v}from"./search-CteYo1mW.js";import{I as N}from"./IconSearch-DwX1e0ly.js";import"./banner-DYtQH0AZ.js";import"./creation-date-DCMzowl6.js";import"./date-NK96Yl5Q.js";import"./link-with-prefetch-DUBLuzfv.js";function S({className:l,type:r,...s}){return e.jsx("input",{type:r,"data-slot":"input",className:b("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",l),...s})}const O=h(function(){const{query:r,results:s,initialResults:o,count:t}=x(),a=i.useRef(null),c=j();i.useEffect(()=>{c.state?.focus&&a.current?.focus()},[a,c.state]);const d=i.useCallback(()=>r?t?e.jsxs(e.Fragment,{children:[e.jsxs("h2",{children:["Wyniki wyszukiwania (",t,")"]}),s.articles.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Artykuły (",s.articles.length,")"]}),e.jsx(y,{className:"!p-0 !grid-cols-1",articles:s.articles})]}),s.courses.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Kursy (",s.courses.length,")"]}),e.jsx(k,{className:"!p-0 !grid-cols-1",courses:s.courses})]}),s.projects.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Projekty (",s.projects.length,")"]}),e.jsx(g,{className:"!p-0 !grid-cols-1",projects:s.projects})]})]}):e.jsxs("h2",{children:["Brak wyników wyszukiwania dla zapytania: ",r]}):null,[s,r,t,a]),n=i.useCallback((p,m)=>m?.map(u=>e.jsx("option",{value:u.title,children:p},`datalist-item-${u.id}`)),[]);return e.jsxs("section",{className:"prose max-w-full",children:[e.jsx(z,{title:r?`(${t}) Rezultaty wyszukiwania dla ${r}`:"Szukaj"}),e.jsxs("header",{className:"container !pb-0",children:[e.jsx("h1",{className:"mb-0",children:"Szukaj"}),e.jsx("p",{children:"Wskazówka: Obszary po których możesz szukać:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Artykuły: (tytuł, opis, słowa klucz, kategorie, długość czytania)"}),e.jsx("li",{children:"Kursy: (tytuł, opis, słowa klucz, kategorie, długość czytania)"}),e.jsx("li",{children:"Projekty: (tytuł, opis, słowa klucz, technologie)"})]}),e.jsx("p",{children:"Możesz też wkleić skopiowany link aby spróbować przejść do wskazanej strony"})]}),e.jsxs(f,{preventScrollReset:!0,method:"get",className:"container !py-0 bg-background flex gap-2",action:"/search",children:[e.jsx(S,{ref:a,type:"search",name:v,placeholder:"Treść zapytania",defaultValue:r??"",required:!0,className:"flex-1 relative",list:"search-datalist"},r),e.jsxs("datalist",{id:"search-datalist",children:[n("📝 Artykuł",o?.articles),n("🏫 Kurs",o?.courses),n("🛠️ Projekt",o?.projects)]}),e.jsxs(w,{type:"submit",children:[e.jsx(N,{className:"size-5"}),"Szukaj"]})]}),e.jsx("div",{className:"container !pt-0",children:d()})]})});export{O as default};
