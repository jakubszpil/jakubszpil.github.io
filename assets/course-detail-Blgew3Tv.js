import{B as e,H as t,L as n,M as r,t as i}from"./jsx-runtime-C_PgplXg.js";import{O as a,a as o,j as s,k as c,n as l,y as u}from"./src-QA8DG-eg.js";import{t as d}from"./course-categories-Bg4X9Zkj.js";var f=t(e()),p=t(i());function m(e){let t=e.options[e.answer],n=o(e.options),r=n.indexOf(t);return{...e,options:n,answer:r}}function h(e){let[t,...n]=e.questions;return[t,...o(n).map(m)]}function g({quiz:e}){let[t,n]=(0,f.useState)(0),[r,i]=(0,f.useState)(null),[o,c]=(0,f.useState)(!1),[l,u]=(0,f.useState)(0),[d,m]=(0,f.useState)(!1),[g,_]=(0,f.useState)(()=>h(e)),v=g.at(t),y=v?.options.at(v.answer),b=v?.options,x=(0,f.useCallback)(e=>{o||(i(e),c(!0),e===y&&u(e=>e+1))},[o,y]),S=(0,f.useCallback)(()=>{c(!1),i(null),t+1<g.length?n(t+1):m(!0)},[t,g.length]);return d?(0,p.jsxs)(`div`,{className:`container prose`,children:[(0,p.jsx)(`h2`,{children:e.title}),(0,p.jsxs)(`p`,{children:[`Wynik: `,l,` / `,g.length]}),(0,p.jsx)(a,{size:`sm`,onClick:()=>{n(0),i(null),c(!1),u(0),m(!1),_(h(e))},children:`Rozwiąż ponownie`})]}):(0,p.jsxs)(`div`,{className:`container prose`,children:[(0,p.jsx)(`h2`,{children:e.title}),(0,p.jsxs)(`div`,{children:[(0,p.jsxs)(`p`,{className:`font-bold mb-0!`,children:[`Pytanie `,t+1,` z `,g.length]}),(0,p.jsx)(`div`,{className:`prose-p:mt-2`,dangerouslySetInnerHTML:{__html:v?.question??``}}),(0,p.jsx)(`div`,{className:`grid grid-flow-row gap-3`,children:b?.map(e=>(0,p.jsx)(a,{size:`sm`,variant:`outline`,className:s(`w-full text-left inline-flex justify-start transition-none text-wrap! min-h-min! py-1.5`,o?`cursor-default hover:text-inherit!`:`cursor-pointer`,o&&e===y?`bg-green-400! dark:bg-green-800!`:r===e&&o&&e!==y?`bg-red-400! dark:bg-red-800!`:o&&`hover:bg-inherit!`),onClick:()=>x(e),children:e},e))}),o&&(0,p.jsxs)(`div`,{className:`mt-3`,children:[r===y?(0,p.jsx)(`span`,{className:`text-green-500`,children:`✅ Dobrze!`}):(0,p.jsxs)(`span`,{className:`text-red-500`,children:[`❌ Błędna odpowiedź. Poprawna:`,` `,(0,p.jsx)(`strong`,{children:v?.options.at(v.answer)})]}),v?.explanation&&(0,p.jsx)(`blockquote`,{className:`my-3`,children:v.explanation}),(0,p.jsx)(a,{size:`sm`,onClick:S,children:t+1<g.length?`Następne pytanie`:`Zakończ quiz`})]})]})]})}const _=l(({loaderData:e})=>({title:e?.title,description:e?.description,keywords:e?.keywords,publishedTime:e?.createdAt,type:`article`}));var v=n(function(){let e=r();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(`header`,{className:`prose container`,children:[(0,p.jsx)(`h1`,{className:`mb-5`,children:e.title}),(0,p.jsx)(c,{className:`my-6`,createdAt:e.createdAt,readingTime:e.readingTime}),(0,p.jsx)(d,{categories:e.categories})]}),(0,p.jsx)(`article`,{className:`prose container pt-0 prose-emerald`,dangerouslySetInnerHTML:{__html:e.content}}),(0,p.jsx)(g,{quiz:e.quiz}),(0,p.jsx)(u,{slug:e.slug,resourceType:`courses`})]})});export{v as default,_ as meta};