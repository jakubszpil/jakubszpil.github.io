import{j as e}from"../vendor/react-DtcCowca.js";import{F as p,r as m}from"../vendor/routing-BKIj40I1.js";import{f as d,d as j,I as x,B as f,h as g}from"../shared-C6n8mrAM.js";import{A as y,c as w}from"../modules/articles-C0LZSND7.js";import{g as k}from"../modules/projects-ZpBJWrJA.js";import{a as z,d as N}from"../modules/courses-hXxrl4Rh.js";import{I as b}from"../vendor/libs-BizHLOBV.js";import"../index--lLcnNHB.js";import"../core-BngGOxrs.js";import"../content/articles/dependency-injection-kontra-typescript-J3xuld3v.js";import"../content/articles/obserwatorium-czyli-wzorzec-projektowy-obserwatora-JM83ArLk.js";import"../content/articles/signalizacja-czyli-koncept-signals-w-typescript-BkEXviKK.js";import"../content/courses/nowoczesny-javascript-0VhTU8dc.js";import"../content/courses/semantyczny-html-DAC5wx7T.js";import"../content/courses/szybszy-css-czyli-wprowadzenie-do-bem-0gbxvLAe.js";import"../content/courses/wprowadzenie-do-css-CVGbNyX8.js";import"../content/courses/wprowadzenie-do-dom-CK1H7bM8.js";import"../content/courses/wprowadzenie-do-html-BEbTkkD-.js";import"../content/courses/wprowadzenie-do-javascript-0Bz9Jok0.js";const q=s=>{try{return new URL(s),!0}catch{return!1}},T=g(({request:s})=>{const t=new URL(s.url),r=t.searchParams.get("q");if(r){if(r==="")throw t.searchParams.delete("q"),m(t.toString());const i=r.trim().split(" ").filter(Boolean).join(" ");if(r!==i)throw i?t.searchParams.set("q",i):t.searchParams.delete("q"),m(t.toString())}if(!r)return{query:r,articles:[],courses:[],projects:[]};if(q(r)){const i=new URL(s.url),a=new URL(r);if(i.origin===a.origin){const n=a.hash.replace("#","");throw m(n)}}const o=i=>{if(!r)return!1;const a=JSON.stringify(i),n=r.toLowerCase();return a.toLowerCase().includes(n)},c=w().filter(o),h=N().filter(o),l=k().filter(o);return{query:r,articles:c,courses:h,projects:l}});function D(){const{query:s,articles:t,projects:r,courses:o}=d(),c=t.length+r.length+o.length,h=(l,i,a,n,u)=>l?i===0?e.jsxs("h2",{children:["Brak wyników wyszukiwania dla zapytania: ",l]}):e.jsxs(e.Fragment,{children:[e.jsxs("h2",{children:["Wyniki wyszukiwania (",i,")"]}),a.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Artykuły (",a.length,")"]}),e.jsx(y,{className:"px-0 !grid-cols-1",articles:a})]}),n.length>0&&e.jsx("section",{children:e.jsxs("h3",{children:["Projekty (",n.length,")"]})}),u.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Kursy (",u.length,")"]}),e.jsx(z,{className:"px-0 !grid-cols-1",courses:u})]})]}):null;return e.jsxs("section",{className:"prose max-w-full",children:[e.jsx(j,{title:`Szukaj${s?`: ${s}`:""}`}),e.jsxs("header",{className:"container pb-0",children:[e.jsx("h1",{className:"mb-0",children:"Wyszukaj"}),e.jsx("p",{children:"Wskazówka: Obszary po których możesz szukać:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Artykuły: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),e.jsx("li",{children:"Kursy: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),e.jsx("li",{children:"Projekty: (tytuł, opis, słowa klucz, technologie, zawartość)"})]}),e.jsx("p",{children:"Możesz też wkleić skopiowany link aby spróbować przejść do wskazanej strony"})]}),e.jsxs(p,{method:"get",className:"container py-0 bg-background flex gap-2",children:[e.jsx(x,{type:"text",name:"q",placeholder:"Treść zapytania",defaultValue:s??"",required:!0},s),e.jsxs(f,{type:"submit",children:[e.jsx(b,{className:"h-5 w-5 mr-1"}),"Szukaj"]})]}),e.jsx("div",{className:"container pt-0",children:h(s,c,t,r,o)})]})}export{D as default,T as loader};
