import{r as g,j as u}from"../react-BDnC2YFb.js";import{_ as f,c as w,B as j,u as x,S as T,j as A}from"./about-DK_XtsX2.js";import{i as h}from"../runtime-CailFyd4.js";import{m as C,L as b}from"../routing-DZXfz7lg.js";async function _(a,e){return(await Promise.all(a.slice(0,e??a.length).map(c=>c().then(s=>s.default)))).sort((c,s)=>{h(c.createdAt),h(s.createdAt);const d=new Date(c.createdAt).getTime();return new Date(s.createdAt).getTime()-d})}function k(a,e){async function l(r){return await _(Object.values(a),r)}async function c(r){return h(r),(await _(Object.entries(a).filter(([o])=>o.includes(r)).map(([,o])=>o))).find(o=>o.slug===r)}async function s(){const r=await l(),i={};return r.reduce((t,n)=>{const y=n[e];return Array.isArray(y)&&y.forEach(m=>{m in i||(i[m]=0),t.includes(m)||t.push(m),i[m]++}),t},[]).sort((t,n)=>i[n]-i[t])}async function d(r){return(await l()).filter(o=>{const t=o[e];return Array.isArray(t)?t.includes(r):!1})}return[l,c,s,d]}const R=Object.assign({"../../../../content/articles/dependency-injection-kontra-typescript.mdx":()=>f(()=>import("../content/dependency-injection-kontra-typescript-B-954lIN.js"),[]),"../../../../content/articles/obserwatorium-czyli-wzorzec-projektowy-obserwatora.mdx":()=>f(()=>import("../content/obserwatorium-czyli-wzorzec-projektowy-obserwatora-QYSESKfe.js"),[]),"../../../../content/articles/signalizacja-czyli-koncept-signals-w-typescript.mdx":()=>f(()=>import("../content/signalizacja-czyli-koncept-signals-w-typescript-DeZyDInO.js"),[])}),[B,E,F,N]=k(R,"categories");function v({prefetch:a="intent",...e}){const{routes:l}=w,c=g.useMemo(()=>C(l,e.to),[e.to,l]),s=g.useCallback(()=>{c==null||c.forEach(r=>{var i,o;(o=(i=r.route).lazy)==null||o.call(i).then(t=>{t.loader instanceof Function&&t.loader({params:r.params,request:new Request(e.to)})})})},[c,e.to]),d=g.useMemo(()=>{let r=null;const i=()=>{r=setTimeout(s,150)},o=()=>{r!==null&&(clearTimeout(r),r=null)};return a==="intent"?{onClick:t=>{var n;s(),(n=e.onClick)==null||n.call(e,t)},onTouchStartCapture:t=>{var n;s(),(n=e.onTouchStartCapture)==null||n.call(e,t)},onTouchStart:t=>{var n;s(),(n=e.onTouchStart)==null||n.call(e,t)},onMouseEnter:t=>{var n;i(),(n=e.onMouseEnter)==null||n.call(e,t)},onMouseLeave:t=>{var n;o(),(n=e.onMouseLeave)==null||n.call(e,t)},onFocus:t=>{var n;i(),(n=e.onFocus)==null||n.call(e,t)},onBlur:t=>{var n;o(),(n=e.onBlur)==null||n.call(e,t)}}:{}},[a,s,e]);return u.jsx(b,{...e,...d})}function z(a){var l;const e=g.useCallback((c,s)=>u.jsx(j,{asChild:!0,variant:"secondary",size:"sm",className:"!no-underline lowercase",children:u.jsxs(v,{to:s,children:["#",c]})},c),[]);return u.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.showAllCategory&&e("wszystko","/blog"),(l=a.categories)==null?void 0:l.map(c=>e(c,`/blog/kategorie/${c}`))]})}async function L({params:a}){const e=await E(a.slug);if(!e)throw new Response(null,{status:404,statusText:"Nie znaleziono"});return A(e)}function P(){const a=x();return u.jsxs(u.Fragment,{children:[u.jsx(T,{title:a.title,description:a.description,keywords:a.keywords}),u.jsxs("header",{className:"prose container",children:[u.jsx("h1",{children:a.title}),u.jsx(z,{categories:a.categories})]}),u.jsx("article",{className:"prose container",dangerouslySetInnerHTML:{__html:a.content}})]})}const I=Object.freeze(Object.defineProperty({__proto__:null,default:P,loader:L},Symbol.toStringTag,{value:"Module"}));export{z as C,v as L,N as a,B as b,k as c,I as d,F as g};
