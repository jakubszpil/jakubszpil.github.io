import{j as s}from"../vendor/react-J-Isf5eZ.js";import{F as d,r as m}from"../vendor/routing-CARP45iH.js";import{f as j,d as p,I as x,B as f,h as g}from"../shared-Cf2_ryGQ.js";import{A as y,c as k}from"../modules/articles-BwRNk7EH.js";import{g as w}from"../modules/projects-D6FM4H7X.js";import{a as z,d as N}from"../modules/courses-Cr76g52c.js";import{I as S}from"../vendor/libs-D4oAjHqu.js";import"../index-CRLYYZSb.js";import"../core-BxfAraIM.js";import"../content/articles-sxg5Auco.js";import"../content/courses-265Y-Ix6.js";const K=g(({request:t})=>{const r=new URL(t.url),e=r.searchParams.get("q");if(e){if(e==="")throw r.searchParams.delete("q"),m(r.toString());const a=e.trim().split(" ").filter(Boolean).join(" ");if(e!==a)throw r.searchParams.set("q",a),m(r.toString())}if(!e)return{query:e,articles:[],courses:[],projects:[]};const i=a=>{if(!e)return!1;const o=JSON.stringify(a),l=e.toLowerCase();return o.toLowerCase().includes(l)},c=k().filter(i),h=N().filter(i),n=w().filter(i);return{query:e,articles:c,courses:h,projects:n}});function O(){const{query:t,articles:r,projects:e,courses:i}=j(),c=r.length+e.length+i.length,h=(n,a,o,l,u)=>n?a===0?s.jsxs("h2",{children:["Brak wyników wyszukiwania dla zapytania: ",n]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{children:["Wyniki wyszukiwania (",a,")"]}),o.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{children:["Artykuły (",o.length,")"]}),s.jsx(y,{className:"px-0 !grid-cols-1",articles:o})]}),l.length>0&&s.jsx("section",{children:s.jsxs("h3",{children:["Projekty (",l.length,")"]})}),u.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{children:["Kursy (",u.length,")"]}),s.jsx(z,{className:"px-0 !grid-cols-1",courses:u})]})]}):null;return s.jsxs("section",{className:"prose max-w-full",children:[s.jsx(p,{title:`Szukaj${t?`: ${t}`:""}`}),s.jsxs("header",{className:"container pb-0",children:[s.jsx("h1",{className:"mb-0",children:"Wyszukaj"}),s.jsx("p",{children:"Wskazówka: Obszary po których możesz szukać:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Artykuły: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),s.jsx("li",{children:"Kursy: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),s.jsx("li",{children:"Projekty: (tytuł, opis, słowa klucz, technologie, zawartość)"})]})]}),s.jsxs(d,{method:"get",className:"container pb-0 flex gap-2",children:[s.jsx(x,{type:"text",name:"q",placeholder:"Treść zapytania",defaultValue:t??"",required:!0},t),s.jsxs(f,{type:"submit",children:[s.jsx(S,{className:"h-5 w-5 mr-1"}),"Szukaj"]})]}),s.jsx("div",{className:"container pt-0",children:h(t,c,r,e,i)})]})}export{O as default,K as loader};
