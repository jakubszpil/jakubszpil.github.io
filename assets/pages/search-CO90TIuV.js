import{j as s}from"../vendor/react-BIbvbM3Y.js";import{F as d,r as u}from"../vendor/routing-OYVTFyAq.js";import{f as p,d as j,I as x,B as f,h as g}from"../shared-BY_Lq1CF.js";import{A as y,c as k}from"../modules/articles-CA4P5xFi.js";import{g as w}from"../modules/projects-kkdFc9HX.js";import{a as z,d as N}from"../modules/courses-DlbPhsSy.js";import{I as S}from"../vendor/libs-C4GQaXwJ.js";import"../index-DFe3hiaY.js";import"../core-D_mByfjO.js";import"../content/articles/dependency-injection-kontra-typescript-uLyFiOej.js";import"../content/articles/obserwatorium-czyli-wzorzec-projektowy-obserwatora-DFlQTXl2.js";import"../content/articles/signalizacja-czyli-koncept-signals-w-typescript-BWh8ImnH.js";import"../content/courses/nowoczesny-javascript-CuiDxbYp.js";import"../content/courses/semantyczny-html-CHpx0XTI.js";import"../content/courses/szybszy-css-czyli-wprowadzenie-do-bem-aqwKADUV.js";import"../content/courses/wprowadzenie-do-css-DbNOCdnv.js";import"../content/courses/wprowadzenie-do-dom-DlhZme2l.js";import"../content/courses/wprowadzenie-do-html-gzUp-J5l.js";import"../content/courses/wprowadzenie-do-javascript-Djkka071.js";const V=g(({request:t})=>{const e=new URL(t.url),r=e.searchParams.get("q");if(r){if(r==="")throw e.searchParams.delete("q"),u(e.toString());const i=r.trim().split(" ").filter(Boolean).join(" ");if(r!==i)throw e.searchParams.set("q",i),u(e.toString())}if(!r)return{query:r,articles:[],courses:[],projects:[]};const o=i=>{if(!r)return!1;const a=JSON.stringify(i),c=r.toLowerCase();return a.toLowerCase().includes(c)},l=k().filter(o),m=N().filter(o),n=w().filter(o);return{query:r,articles:l,courses:m,projects:n}});function D(){const{query:t,articles:e,projects:r,courses:o}=p(),l=e.length+r.length+o.length,m=(n,i,a,c,h)=>n?i===0?s.jsxs("h2",{children:["Brak wyników wyszukiwania dla zapytania: ",n]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{children:["Wyniki wyszukiwania (",i,")"]}),a.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{children:["Artykuły (",a.length,")"]}),s.jsx(y,{className:"px-0 !grid-cols-1",articles:a})]}),c.length>0&&s.jsx("section",{children:s.jsxs("h3",{children:["Projekty (",c.length,")"]})}),h.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{children:["Kursy (",h.length,")"]}),s.jsx(z,{className:"px-0 !grid-cols-1",courses:h})]})]}):null;return s.jsxs("section",{className:"prose max-w-full",children:[s.jsx(j,{title:`Szukaj${t?`: ${t}`:""}`}),s.jsxs("header",{className:"container pb-0",children:[s.jsx("h1",{className:"mb-0",children:"Wyszukaj"}),s.jsx("p",{children:"Wskazówka: Obszary po których możesz szukać:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Artykuły: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),s.jsx("li",{children:"Kursy: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),s.jsx("li",{children:"Projekty: (tytuł, opis, słowa klucz, technologie, zawartość)"})]})]}),s.jsxs(d,{method:"get",className:"container py-0 bg-background flex gap-2",children:[s.jsx(x,{type:"text",name:"q",placeholder:"Treść zapytania",defaultValue:t??"",required:!0},t),s.jsxs(f,{type:"submit",children:[s.jsx(S,{className:"h-5 w-5 mr-1"}),"Szukaj"]})]}),s.jsx("div",{className:"container pt-0",children:m(t,l,e,r,o)})]})}export{D as default,V as loader};
