import{r as o,j as T}from"./react-BDnC2YFb.js";import{m as L,L as M}from"./routing-DFXa-LRN.js";import{a as k}from"./index-Dt24wI1w.js";function d({prefetch:m="intent",...t}){const{routes:f}=k,l=o.useMemo(()=>L(f,t.to),[t.to,f]),a=o.useCallback(()=>{l==null||l.forEach(u=>{var c,i;(i=(c=u.route).lazy)==null||i.call(c).then(n=>{n.loader instanceof Function&&n.loader({params:u.params,request:new Request(t.to)})})})},[l,t.to]),h=o.useMemo(()=>{let u=null;const c=()=>{u=setTimeout(a,150)},i=()=>{u!==null&&(clearTimeout(u),u=null)};return m==="intent"?{onClick:n=>{var e;a(),(e=t.onClick)==null||e.call(t,n)},onTouchStartCapture:n=>{var e;a(),(e=t.onTouchStartCapture)==null||e.call(t,n)},onTouchStart:n=>{var e;a(),(e=t.onTouchStart)==null||e.call(t,n)},onMouseEnter:n=>{var e;c(),(e=t.onMouseEnter)==null||e.call(t,n)},onMouseLeave:n=>{var e;i(),(e=t.onMouseLeave)==null||e.call(t,n)},onFocus:n=>{var e;c(),(e=t.onFocus)==null||e.call(t,n)},onBlur:n=>{var e;i(),(e=t.onBlur)==null||e.call(t,n)}}:{}},[m,a,t]);return T.jsx(M,{...t,...h})}export{d as L};
