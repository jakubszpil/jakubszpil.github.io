import{w as j,B as x,a as n,v as f,C as y}from"./chunk-QMGIS6GS-YHFDmhZ-.js";import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{A as k}from"./articles-BFySNaeU.js";import{C as g}from"./courses-BxWTID5D.js";import{P as b}from"./projects-ruNPd6M9.js";import{a as w,B as z}from"./button-5xkHf9Rf.js";import{S as N}from"./seo-BkSibdrs.js";import{q as v}from"./search-6baFbb-8.js";import{I as S}from"./IconSearch-DmD6mpcd.js";import"./banner-BEH6ooXs.js";import"./creation-date-C6nUUo0r.js";import"./date-RHvfkXNw.js";import"./link-with-prefetch-D0YfcZ9V.js";const h=({className:u,type:a,ref:e,...r})=>s.jsx("input",{type:a,className:w("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",u),ref:e,...r});h.displayName="Input";const W=j(function(){const{query:a,results:e,initialResults:r,count:o}=x(),c=n.useRef(null),d=f();n.useEffect(()=>{var i,t;(i=d.state)!=null&&i.focus&&((t=c.current)==null||t.focus())},[c,d.state]);const m=n.useCallback(()=>a?o?s.jsxs(s.Fragment,{children:[s.jsxs("h2",{children:["Wyniki wyszukiwania (",o,")"]}),e.articles.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{children:["Artykuły (",e.articles.length,")"]}),s.jsx(k,{className:"px-0 !grid-cols-1",articles:e.articles})]}),e.courses.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{children:["Kursy (",e.courses.length,")"]}),s.jsx(g,{className:"px-0 !grid-cols-1",courses:e.courses})]}),e.projects.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{children:["Projekty (",e.projects.length,")"]}),s.jsx(b,{className:"px-0 !grid-cols-1",projects:e.projects})]})]}):s.jsxs("h2",{children:["Brak wyników wyszukiwania dla zapytania: ",a]}):null,[e,a,o,c]),l=n.useCallback((i,t)=>t==null?void 0:t.map(p=>s.jsx("option",{value:p.title,children:i},`datalist-item-${p.id}`)),[]);return s.jsxs("section",{className:"prose max-w-full",children:[s.jsx(N,{title:a?`(${o}) Rezultaty wyszukiwania dla ${a}`:"Szukaj"}),s.jsxs("header",{className:"container pb-0",children:[s.jsx("h1",{className:"mb-0",children:"Szukaj"}),s.jsx("p",{children:"Wskazówka: Obszary po których możesz szukać:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Artykuły: (tytuł, opis, słowa klucz, kategorie, długość czytania)"}),s.jsx("li",{children:"Kursy: (tytuł, opis, słowa klucz, kategorie, długość czytania)"}),s.jsx("li",{children:"Projekty: (tytuł, opis, słowa klucz, technologie)"})]}),s.jsx("p",{children:"Możesz też wkleić skopiowany link aby spróbować przejść do wskazanej strony"})]}),s.jsxs(y,{preventScrollReset:!0,method:"get",className:"container py-0 bg-background flex gap-2",action:"/search",children:[s.jsx(h,{ref:c,type:"search",name:v,placeholder:"Treść zapytania",defaultValue:a??"",required:!0,className:"flex-1 relative",list:"search-datalist"},a),s.jsxs("datalist",{id:"search-datalist",children:[l("📝 Artykuł",r==null?void 0:r.articles),l("🏫 Kurs",r==null?void 0:r.courses),l("🛠️ Projekt",r==null?void 0:r.projects)]}),s.jsxs(z,{type:"submit",children:[s.jsx(S,{className:"h-5 w-5 mr-1"}),"Szukaj"]})]}),s.jsx("div",{className:"container pt-0",children:m()})]})});export{W as default};
