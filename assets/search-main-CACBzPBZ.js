import{w as j}from"./with-props-CwzqKV1V.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{A as x,a as t,w as f,B as h,C as k}from"./chunk-DQRVZFIR-Da76HV04.js";import{A as y}from"./articles-DqM3eEUK.js";import{C as g}from"./courses-DIQJqqoq.js";import{P as w}from"./projects-BeIdPNyo.js";import{a as b,B as z}from"./button-BI0-sohm.js";import{S as N}from"./seo-CVRCSVbZ.js";import{q as v}from"./search-ZphvqnwM.js";import{I as S}from"./IconSearch-D4OqxTj0.js";import"./date-NK96Yl5Q.js";const d=({className:l,type:o,ref:a,...n})=>e.jsx("input",{type:o,className:b("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:a,...n});d.displayName="Input";const F=j(function(){const{query:o,results:a,initialResults:n}=x(),i=t.useRef(null),u=f();t.useEffect(()=>{var s,r;(s=u.state)!=null&&s.focus&&((r=i.current)==null||r.focus())},[i,u.state]);const m=t.useCallback(s=>o?s.count?e.jsxs(e.Fragment,{children:[e.jsxs("h2",{children:["Wyniki wyszukiwania (",s.count,")"]}),s.articles.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Artykuły (",s.articles.length,")"]}),e.jsx(y,{className:"px-0 !grid-cols-1",articles:s.articles})]}),s.courses.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Kursy (",s.courses.length,")"]}),e.jsx(g,{className:"px-0 !grid-cols-1",courses:s.courses})]}),s.projects.length>0&&e.jsxs("section",{children:[e.jsxs("h3",{children:["Projekty (",s.projects.length,")"]}),e.jsx(w,{className:"px-0 !grid-cols-1",projects:s.projects})]})]}):e.jsxs("h2",{children:["Brak wyników wyszukiwania dla zapytania: ",o]}):null,[o,i]),c=t.useCallback((s,r)=>r==null?void 0:r.map(p=>e.jsx("option",{value:p.title,children:s},`datalist-item-${p.id}`)),[]);return e.jsx(h,{resolve:a,children:s=>e.jsxs("section",{className:"prose max-w-full",children:[e.jsx(N,{title:o?`(${s.count}) Rezultaty wyszukiwania dla ${o}`:"Szukaj"}),e.jsxs("header",{className:"container pb-0",children:[e.jsx("h1",{className:"mb-0",children:"Szukaj"}),e.jsx("p",{children:"Wskazówka: Obszary po których możesz szukać:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Artykuły: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),e.jsx("li",{children:"Kursy: (tytuł, opis, słowa klucz, kategorie, zawartość)"}),e.jsx("li",{children:"Projekty: (tytuł, opis, słowa klucz, technologie, zawartość)"})]}),e.jsx("p",{children:"Możesz też wkleić skopiowany link aby spróbować przejść do wskazanej strony"})]}),e.jsxs(k,{preventScrollReset:!0,method:"get",className:"container py-0 bg-background flex gap-2",action:"/search",children:[e.jsx(d,{ref:i,type:"search",name:v,placeholder:"Treść zapytania",defaultValue:o??"",required:!0,className:"flex-1 relative",list:"search-datalist"},o),e.jsx(h,{resolve:n,children:r=>e.jsxs("datalist",{id:"search-datalist",children:[c("📝 Artykuł",r==null?void 0:r.articles),c("🏫 Kurs",r==null?void 0:r.courses),c("🛠️ Projekt",r==null?void 0:r.projects)]})}),e.jsxs(z,{type:"submit",children:[e.jsx(S,{className:"h-5 w-5 mr-1"}),"Szukaj"]})]}),e.jsx("div",{className:"container pt-0",children:m(s)})]})})});export{F as default};
