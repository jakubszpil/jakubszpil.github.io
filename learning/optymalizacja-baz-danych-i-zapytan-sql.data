[{"_1":2},"course-details",{"_3":4},"data",{"_5":6,"_7":8,"_9":10,"_19":20,"_22":23,"_24":25,"_76":77,"_78":79,"_80":81,"_82":83,"_84":85},"title","Optymalizacja baz danych i zapytań SQL","description","Dowiedz się, jak przyspieszyć działanie baz danych i zapytań SQL. Poznaj techniki indeksowania, optymalizacji zapytań, analizy wydajności oraz dobre praktyki projektowe. Przewodnik dla średniozaawansowanych i zaawansowanych.","keywords",[11,12,13,14,15,16,17,18],"optymalizacja","bazy danych","indeksy","wydajność","explain","tuning","sql","learning","categories",[17,21],"bazy-danych","createdAt",["D",1751673600000],"quiz",{"_5":26,"_27":28},"Quiz: Optymalizacja baz danych i zapytań SQL","questions",[29,42,51,59,68],{"_30":31,"_32":33,"_38":39,"_40":41},"question","<p>Czym jest indeks w bazie danych?</p>","options",[34,35,36,37],"Dodatkowa tabela przechowująca kopie rekordów","Struktura danych przyspieszająca wyszukiwanie i sortowanie","Typ połączenia sieciowego","Kod służący do tworzenia backupów","answer",1,"explanation","Indeks to struktura umożliwiająca szybkie wyszukiwanie i sortowanie danych.",{"_30":43,"_32":44,"_38":49,"_40":50},"<p>Jak sprawdzić plan wykonania zapytania SQL?</p>",[45,46,47,48],"Użyć DELETE","Zwiększyć ilość RAM","Dodać WHERE 1=1","Użyć polecenia EXPLAIN lub EXPLAIN ANALYZE",3,"Polecenie EXPLAIN pozwala sprawdzić, jak baza danych wykona zapytanie.",{"_30":52,"_32":53,"_38":49,"_40":58},"<p>Które z poniższych NIE jest dobrym sposobem na poprawę wydajności zapytań?</p>",[54,55,56,57],"Tworzenie odpowiednich indeksów","Filtrowanie danych w WHERE","Unikanie SELECT *","Dodawanie zbędnych podzapytań","Zbędne podzapytania mogą spowalniać zapytania.",{"_30":60,"_32":61,"_38":66,"_40":67},"<p>Czym jest denormalizacja?</p>",[62,63,64,65],"Proces łączenia danych w celu poprawy wydajności","Usuwanie kluczy głównych","Zwiększanie liczby indeksów","Proces dzielenia tabel na mniejsze",0,"Denormalizacja to łączenie danych, by przyspieszyć odczyt kosztem powielania informacji.",{"_30":69,"_32":70,"_38":49,"_40":75},"<p>Jakie zapytanie może być szczególnie niebezpieczne wydajnościowo?</p>",[71,72,73,74],"SELECT z JOIN na dużych tabelach bez indeksów","DELETE z podzapytaniami bez filtrów","UPDATE bez WHERE","Wszystkie powyższe","Brak ograniczeń i indeksów w dużych zapytaniach może prowadzić do spadku wydajności lub błędów.","id","37b2dfda-b8cc-43f2-b50c-e129d0b494a5","slug","optymalizacja-baz-danych-i-zapytan-sql","content","<p>Optymalizacja baz danych i zapytań SQL to kluczowy element sprawnego działania aplikacji, szczególnie gdy ilość danych rośnie. Nawet dobrze zaprojektowana baza może działać wolno bez odpowiednich technik optymalizacyjnych. Ten kurs pokaże Ci, jak analizować, wykrywać i rozwiązywać najczęstsze problemy z wydajnością.</p>\n<h2 id=\"spis-treści\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#spis-treści\">>></a>Spis treści</h2>\n<ol>\n<li><a href=\"#dlaczego-optymalizacja-jest-wa%C5%BCna\">Dlaczego optymalizacja jest ważna?</a></li>\n<li><a href=\"#indeksowanie-danych\">Indeksowanie danych</a>\n<ul>\n<li><a href=\"#rodzaje-indeks%C3%B3w\">Rodzaje indeksów</a></li>\n<li><a href=\"#tworzenie-i-usuwanie-indeks%C3%B3w\">Tworzenie i usuwanie indeksów</a></li>\n<li><a href=\"#kiedy-indeksy-przeszkadzaj%C4%85\">Kiedy indeksy przeszkadzają?</a></li>\n</ul>\n</li>\n<li><a href=\"#optymalizacja-zapyta%C5%84-sql\">Optymalizacja zapytań SQL</a>\n<ul>\n<li><a href=\"#analiza-planu-wykonania-explain\">Analiza planu wykonania (EXPLAIN)</a></li>\n<li><a href=\"#unikanie-typowych-b%C5%82%C4%99d%C3%B3w\">Unikanie typowych błędów</a></li>\n<li><a href=\"#pisanie-wydajnych-zapyta%C5%84\">Pisanie wydajnych zapytań</a></li>\n</ul>\n</li>\n<li><a href=\"#normalizacja-a-denormalizacja-danych\">Normalizacja a denormalizacja danych</a></li>\n<li><a href=\"#tuning-bazy-danych-i-parametry-konfiguracyjne\">Tuning bazy danych i parametry konfiguracyjne</a></li>\n<li><a href=\"#monitorowanie-wydajno%C5%9Bci\">Monitorowanie wydajności</a></li>\n<li><a href=\"#praktyczne-zadania\">Praktyczne zadania</a></li>\n<li><a href=\"#podsumowanie\">Podsumowanie</a></li>\n</ol>\n<hr>\n<h2 id=\"dlaczego-optymalizacja-jest-ważna\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#dlaczego-optymalizacja-jest-ważna\">>></a>Dlaczego optymalizacja jest ważna?</h2>\n<ul>\n<li><strong>Duże ilości danych</strong> mogą znacząco spowolnić nawet dobrze zaprojektowaną bazę.</li>\n<li><strong>Wydajne zapytania</strong> to krótszy czas odpowiedzi i mniejsze zużycie zasobów serwera.</li>\n<li>Niska wydajność bazy może prowadzić do spadku satysfakcji użytkowników, błędów i kosztów utrzymania.</li>\n</ul>\n<hr>\n<h2 id=\"indeksowanie-danych\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#indeksowanie-danych\">>></a>Indeksowanie danych</h2>\n<p>Indeks to specjalna struktura danych (np. drzewo B-drzewiaste), która przyspiesza wyszukiwanie i sortowanie danych w tabeli. Działa jak spis treści w książce.</p>\n<h3 id=\"rodzaje-indeksów\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#rodzaje-indeksów\">>>></a>Rodzaje indeksów</h3>\n<ul>\n<li><strong>Indeks podstawowy (PRIMARY)</strong> – na kluczu głównym, zawsze unikalny.</li>\n<li><strong>Indeksy unikalne (UNIQUE)</strong> – zapewniają unikalność wartości w kolumnie.</li>\n<li><strong>Indeksy zwykłe</strong> – przyspieszają wyszukiwanie, ale mogą mieć powtarzające się wartości.</li>\n<li><strong>Indeksy złożone (wielokolumnowe)</strong> – na kilku kolumnach jednocześnie.</li>\n<li><strong>Indeksy pełnotekstowe</strong> – do wyszukiwania tekstów.</li>\n</ul>\n<h3 id=\"tworzenie-i-usuwanie-indeksów\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#tworzenie-i-usuwanie-indeksów\">>>></a>Tworzenie i usuwanie indeksów</h3>\n<p><strong>Tworzenie indeksu:</strong></p>\n<pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">CREATE</span> INDEX idx_nazwisko <span class=\"hljs-keyword\">ON</span> Pracownik(nazwisko);\n</code></pre>\n<ul>\n<li><code>CREATE INDEX</code> – polecenie tworzące indeks.</li>\n<li><code>idx_nazwisko</code> – nazwa indeksu.</li>\n<li><code>ON Pracownik(nazwisko)</code> – tabela i kolumna, na której tworzony jest indeks.</li>\n</ul>\n<p><strong>Usuwanie indeksu:</strong></p>\n<pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">DROP</span> INDEX idx_nazwisko <span class=\"hljs-keyword\">ON</span> Pracownik;\n</code></pre>\n<h3 id=\"kiedy-indeksy-przeszkadzają\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#kiedy-indeksy-przeszkadzają\">>>></a>Kiedy indeksy przeszkadzają?</h3>\n<ul>\n<li>Zbyt wiele indeksów spowalnia operacje INSERT, UPDATE, DELETE (każda zmiana wymaga aktualizacji indeksów).</li>\n<li>Indeksy zajmują dodatkowe miejsce na dysku.</li>\n<li>Indeksy nie pomagają przy operacjach na małych tabelach.</li>\n</ul>\n<hr>\n<h2 id=\"optymalizacja-zapytań-sql\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#optymalizacja-zapytań-sql\">>></a>Optymalizacja zapytań SQL</h2>\n<h3 id=\"analiza-planu-wykonania-explain\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#analiza-planu-wykonania-explain\">>>></a>Analiza planu wykonania (EXPLAIN)</h3>\n<p>Polecenie <strong>EXPLAIN</strong> pokazuje, jak baza zamierza wykonać zapytanie – czy użyje indeksu, jak będzie łączyć tabele itd.</p>\n<p><strong>Przykład:</strong></p>\n<pre><code class=\"hljs language-sql\">EXPLAIN <span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> Pracownik <span class=\"hljs-keyword\">WHERE</span> nazwisko <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">'Kowalski'</span>;\n</code></pre>\n<ul>\n<li>Sprawdź, czy w kolumnie \"key\" pojawia się nazwa indeksu.</li>\n</ul>\n<h3 id=\"unikanie-typowych-błędów\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#unikanie-typowych-błędów\">>>></a>Unikanie typowych błędów</h3>\n<ul>\n<li>SELECT * (wszystkie kolumny) – pobieraj tylko potrzebne kolumny.</li>\n<li>Brak WHERE – zapytania bez warunków mogą przetwarzać całą tabelę.</li>\n<li>Zbyt złożone podzapytania lub zagnieżdżone JOINy bez indeksów.</li>\n<li>Filtrowanie po kolumnie bez indeksu.</li>\n</ul>\n<h3 id=\"pisanie-wydajnych-zapytań\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#pisanie-wydajnych-zapytań\">>>></a>Pisanie wydajnych zapytań</h3>\n<ul>\n<li>Używaj WHERE, by ograniczyć liczbę przetwarzanych rekordów.</li>\n<li>Łącz tabele po indeksowanych kolumnach (kluczach głównych/obcych).</li>\n<li>Unikaj funkcji na kolumnach w WHERE (np. WHERE LOWER(nazwisko) = 'kowalski') – indeksy wtedy nie działają.</li>\n<li>Stosuj LIMIT, jeśli nie potrzebujesz wszystkich wyników.</li>\n</ul>\n<hr>\n<h2 id=\"normalizacja-a-denormalizacja-danych\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#normalizacja-a-denormalizacja-danych\">>></a>Normalizacja a denormalizacja danych</h2>\n<ul>\n<li><strong>Normalizacja</strong> – dzielenie danych na tabele, by unikać powielania informacji i zapewnić spójność (zazwyczaj do 3NF).</li>\n<li><strong>Denormalizacja</strong> – celowe powielanie danych w tabelach (np. trzymanie nazwy produktu przy zamówieniu) w celu przyspieszenia odczytu danych, kosztem spójności i miejsca.</li>\n</ul>\n<p><strong>Kiedy warto denormalizować?</strong></p>\n<ul>\n<li>Gdy odczyty są znacznie częstsze niż zapisy.</li>\n<li>Gdy optymalizacja zapytań jest ważniejsza niż minimalizacja powielania danych.</li>\n</ul>\n<hr>\n<h2 id=\"tuning-bazy-danych-i-parametry-konfiguracyjne\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#tuning-bazy-danych-i-parametry-konfiguracyjne\">>></a>Tuning bazy danych i parametry konfiguracyjne</h2>\n<ul>\n<li><strong>Cache (buforowanie)</strong> – bazy danych posiadają wbudowane mechanizmy buforowania wyników zapytań i stron danych.</li>\n<li><strong>Konfiguracja pamięci operacyjnej</strong> – wielkość buforów, liczba połączeń.</li>\n<li><strong>Partycjonowanie tabel</strong> – dzielenie dużych tabel na mniejsze części (np. wg daty).</li>\n<li><strong>Replikacja</strong> – kopiowanie danych na różne serwery, by rozłożyć obciążenie.</li>\n</ul>\n<hr>\n<h2 id=\"monitorowanie-wydajności\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#monitorowanie-wydajności\">>></a>Monitorowanie wydajności</h2>\n<ul>\n<li>Używaj wbudowanych narzędzi (np. <code>SHOW PROCESSLIST</code>, <code>pg_stat_activity</code>).</li>\n<li>Loguj czas wykonania zapytań.</li>\n<li>Analizuj statystyki indeksów i fragmentację tabel.</li>\n<li>Wdrażaj alerty przy długotrwałych zapytaniach.</li>\n</ul>\n<hr>\n<h2 id=\"praktyczne-zadania\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#praktyczne-zadania\">>></a>Praktyczne zadania</h2>\n<h3 id=\"zadanie-1-tworzenie-indeksu\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#zadanie-1-tworzenie-indeksu\">>>></a>Zadanie 1: Tworzenie indeksu</h3>\n<p>Stwórz indeks na kolumnie \"email\" w tabeli \"Uzytkownicy\".</p>\n<details>\n  <summary>\n    <span>Pokaż rozwiązanie</span>\n  </summary>\n<pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">CREATE</span> INDEX idx_email <span class=\"hljs-keyword\">ON</span> Uzytkownicy(email);\n</code></pre>\n</details>\n<hr>\n<h3 id=\"zadanie-2-analiza-zapytania\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#zadanie-2-analiza-zapytania\">>>></a>Zadanie 2: Analiza zapytania</h3>\n<p>Sprawdź plan wykonania poniższego zapytania:</p>\n<pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> Produkty <span class=\"hljs-keyword\">WHERE</span> nazwa <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">'Laptop'</span>;\n</code></pre>\n<details>\n  <summary>\n    <span>Pokaż rozwiązanie</span>\n  </summary>\n<pre><code class=\"hljs language-sql\">EXPLAIN <span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> Produkty <span class=\"hljs-keyword\">WHERE</span> nazwa <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">'Laptop'</span>;\n</code></pre>\n</details>\n<hr>\n<h3 id=\"zadanie-3-optymalizacja-zapytania\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#zadanie-3-optymalizacja-zapytania\">>>></a>Zadanie 3: Optymalizacja zapytania</h3>\n<p>Masz zapytanie:</p>\n<pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> Zamowienie <span class=\"hljs-keyword\">WHERE</span> <span class=\"hljs-keyword\">YEAR</span>(data_zamowienia) <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">2025</span>;\n</code></pre>\n<p>Jak je poprawić, by lepiej wykorzystać indeks na kolumnie data_zamowienia?</p>\n<details>\n  <summary>\n    <span>Pokaż rozwiązanie</span>\n  </summary>\n<pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> Zamowienie <span class=\"hljs-keyword\">WHERE</span> data_zamowienia <span class=\"hljs-operator\">>=</span> <span class=\"hljs-string\">'2025-01-01'</span> <span class=\"hljs-keyword\">AND</span> data_zamowienia <span class=\"hljs-operator\">&#x3C;</span> <span class=\"hljs-string\">'2026-01-01'</span>;\n</code></pre>\n</details>\n<hr>\n<h3 id=\"zadanie-4-wydajność-a-liczba-indeksów\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#zadanie-4-wydajność-a-liczba-indeksów\">>>></a>Zadanie 4: Wydajność a liczba indeksów</h3>\n<p>Wyjaśnij, dlaczego zbyt wiele indeksów może negatywnie wpłynąć na wydajność bazy.</p>\n<details>\n  <summary>\n    <span>Pokaż rozwiązanie</span>\n  </summary>\n<p>Każdy INSERT, UPDATE lub DELETE wymaga aktualizacji wszystkich indeksów, co spowalnia operacje modyfikujące dane.</p>\n</details>\n<hr>\n<h3 id=\"zadanie-5-denormalizacja\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#zadanie-5-denormalizacja\">>>></a>Zadanie 5: Denormalizacja</h3>\n<p>Podaj przykład sytuacji, kiedy warto zastosować denormalizację.</p>\n<details>\n  <summary>\n    <span>Pokaż rozwiązanie</span>\n  </summary>\n<p>Gdy bardzo często wyświetlamy raporty sprzedaży, możemy przechowywać sumę sprzedaży w tabeli, zamiast za każdym razem ją wyliczać.</p>\n</details>\n<hr>\n<h2 id=\"podsumowanie\" class=\"scroll-mt-20 lg:scroll-mt-10\"><a class=\"mr-2 no-underline hover:underline focus-visible:underline select-none\" href=\"#podsumowanie\">>></a>Podsumowanie</h2>\n<p>Optymalizacja baz danych i zapytań SQL pozwala obsługiwać większą ilość danych szybciej i taniej. Korzystaj z indeksów, analizuj plany wykonania, dbaj o strukturę bazy i monitoruj jej działanie – to klucz do sukcesu każdego większego projektu informatycznego!</p>","resourceUrl","https://github.com/jakubszpil/jakubszpil.github.io/edit/main/app/content/courses/optymalizacja-baz-danych-i-zapytan-sql.md","readingTime","3 minuty"]
