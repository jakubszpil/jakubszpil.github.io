<!DOCTYPE html><html lang="pl" data-timestamp="1766950583324"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="modulepreload" href="/fetch.js"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><link rel="preload" as="style" href="/assets/styles-B8yUUhgr.css"/><link rel="preload prefetch" href="/fonts/geist.ttf" as="font" type="font/ttf" crossorigin="anonymous"/><title>Szczepienie kodu, czyli jak Typescript radzi sobie z Dependency Injection - Jakub Szpil</title><meta property="og:title" content="Szczepienie kodu, czyli jak Typescript radzi sobie z Dependency Injection - Jakub Szpil"/><meta property="twitter:title" content="Szczepienie kodu, czyli jak Typescript radzi sobie z Dependency Injection - Jakub Szpil"/><meta name="description" content="Dependency Injection (DI) to wzorzec projektowy stosowany w celu zwiƒôkszenia modularno≈õci i testowalno≈õci kodu. Umo≈ºliwia to oddzielenie tworzenia obiekt√≥w od ich u≈ºywania, co prowadzi do lepszej separacji odpowiedzialno≈õci i ≈Çatwiejszego zarzƒÖdzania zale≈ºno≈õciami. W TypeScript, DI mo≈ºna zaimplementowaƒá na kilka sposob√≥w, w tym za funkcji wstrzykujƒÖcych, kt√≥re sƒÖ odpowiedzialne za tworzenie i wstrzykiwanie zale≈ºno≈õci. Przyjrzyjmy siƒô, jak mo≈ºna zaimplementowaƒá DI w TypeScript z wykorzystaniem prostych przyk≈Çad√≥w."/><meta property="og:description" content="Dependency Injection (DI) to wzorzec projektowy stosowany w celu zwiƒôkszenia modularno≈õci i testowalno≈õci kodu. Umo≈ºliwia to oddzielenie tworzenia obiekt√≥w od ich u≈ºywania, co prowadzi do lepszej separacji odpowiedzialno≈õci i ≈Çatwiejszego zarzƒÖdzania zale≈ºno≈õciami. W TypeScript, DI mo≈ºna zaimplementowaƒá na kilka sposob√≥w, w tym za funkcji wstrzykujƒÖcych, kt√≥re sƒÖ odpowiedzialne za tworzenie i wstrzykiwanie zale≈ºno≈õci. Przyjrzyjmy siƒô, jak mo≈ºna zaimplementowaƒá DI w TypeScript z wykorzystaniem prostych przyk≈Çad√≥w."/><meta property="twitter:description" content="Dependency Injection (DI) to wzorzec projektowy stosowany w celu zwiƒôkszenia modularno≈õci i testowalno≈õci kodu. Umo≈ºliwia to oddzielenie tworzenia obiekt√≥w od ich u≈ºywania, co prowadzi do lepszej separacji odpowiedzialno≈õci i ≈Çatwiejszego zarzƒÖdzania zale≈ºno≈õciami. W TypeScript, DI mo≈ºna zaimplementowaƒá na kilka sposob√≥w, w tym za funkcji wstrzykujƒÖcych, kt√≥re sƒÖ odpowiedzialne za tworzenie i wstrzykiwanie zale≈ºno≈õci. Przyjrzyjmy siƒô, jak mo≈ºna zaimplementowaƒá DI w TypeScript z wykorzystaniem prostych przyk≈Çad√≥w."/><meta property="twitter:card" content="summary_large_image"/><meta property="og:type" content="article"/><meta name="keywords" content="typescript,wzorce projektowe,javascript,blog"/><meta name="og:url" content="https://jakubszpil.github.io/blog/dependency-injection-kontra-typescript/"/><meta name="twitter:url" content="https://jakubszpil.github.io/blog/dependency-injection-kontra-typescript/"/><meta property="article:published_time" content="2024-06-20T00:00:00.000Z"/><link rel="modulepreload" href="/assets/manifest-fb7e3621.js"/><link rel="modulepreload" href="/assets/entry.client-DddeURDp.js"/><link rel="modulepreload" href="/assets/chunk-JMJ3UQ3L-BvJNu3y5.js"/><link rel="modulepreload" href="/assets/jsx-runtime-wtV8vj6d.js"/><link rel="modulepreload" href="/assets/root-DjXMazQk.js"/><link rel="modulepreload" href="/assets/scroll-restoration-Cft_lHZX.js"/><link rel="modulepreload" href="/assets/src-C2an1YV5.js"/><link rel="modulepreload" href="/assets/layout-D6GtGh8d.js"/><link rel="modulepreload" href="/assets/socials-B_0x10D-.js"/><link rel="modulepreload" href="/assets/article-detail-CtjLvdUC.js"/><link rel="modulepreload" href="/assets/article-categories-DtJSpv29.js"/><link rel="stylesheet" href="/assets/styles-B8yUUhgr.css"/><script>let k="theme";let t="dark";let s=localStorage;let c=document.documentElement.classList;let v=s.getItem(k);if(v===null||v==="SYSTEM")matchMedia("(prefers-color-scheme:dark)").matches?c.add(t):c.remove(t);else if(v==="DARK")c.add(t);else if(v==="LIGHT")c.remove(t);else s.removeItem(k);</script><script type="module" src="/fetch.js"></script></head><body style="-webkit-tap-highlight-color:transparent"><script>((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  })("react-router-scroll-positions", "/blog/dependency-injection-kontra-typescript/.default")</script><script>window.__reactRouterContext = {"basename":"/","future":{"unstable_optimizeDeps":true,"unstable_subResourceIntegrity":false,"v8_middleware":false,"v8_splitRouteModules":"enforce","v8_viteEnvironmentApi":true},"routeDiscovery":{"mode":"initial"},"ssr":false,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">import "/assets/manifest-fb7e3621.js";
import * as route0 from "/assets/root-DjXMazQk.js";
import * as route1 from "/assets/layout-D6GtGh8d.js";
import * as route2 from "/assets/article-detail-CtjLvdUC.js";
  
  window.__reactRouterRouteModules = {"root":route0,"feature/layout":route1,"article-detail":route2};

import("/assets/entry.client-DddeURDp.js");</script><!--$?--><template id="B:0"></template><!--/$--><script id="_R_">requestAnimationFrame(function(){$RT=performance.now()});</script><div hidden id="S:0"><script>window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_26\":-5,\"_27\":-5},\"loaderData\",{\"_3\":4},\"article-detail\",{\"_5\":6,\"_7\":8,\"_9\":10,\"_11\":12,\"_13\":14,\"_17\":18,\"_22\":23,\"_24\":25},\"slug\",\"dependency-injection-kontra-typescript\",\"content\",\"\u003cp\u003eDependency Injection (DI) to wzorzec projektowy stosowany w celu zwiƒôkszenia modularno≈õci i testowalno≈õci kodu. Pozwala on na oddzielenie tworzenia obiekt√≥w od ich u≈ºywania, co prowadzi do lepszej separacji odpowiedzialno≈õci oraz u≈Çatwia zarzƒÖdzanie zale≈ºno≈õciami w projekcie. üîó\u003c/p\u003e\\n\u003cp\u003eW TypeScript DI mo≈ºna zaimplementowaƒá na r√≥≈ºne sposoby, m.in. za pomocƒÖ funkcji wstrzykujƒÖcych, kontener√≥w IoC oraz dekorator√≥w. Poni≈ºej znajdziesz szczeg√≥≈Çowe om√≥wienie praktycznych sposob√≥w implementacji DI w TypeScript wraz z przyk≈Çadami i wskaz√≥wkami.\u003c/p\u003e\\n\u003ch2 id=\\\"spis-tre≈õci\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#spis-tre≈õci\\\"\u003e\u003e\u003e\u003c/a\u003eSpis tre≈õci\u003c/h2\u003e\\n\u003col\u003e\\n\u003cli\u003e\u003ca href=\\\"#czym-jest-dependency-injection\\\"\u003eCzym jest Dependency Injection?\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#zalety-stosowania-di\\\"\u003eZalety stosowania DI\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#podstawowy-przyk%C5%82ad-dependency-injection\\\"\u003ePodstawowy przyk≈Çad Dependency Injection\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#wstrzykiwanie-zale%C5%BCno%C5%9Bci-przy-pomocy-funkcji\\\"\u003eWstrzykiwanie zale≈ºno≈õci przy pomocy funkcji\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#kontener-ioc-i-automatyzacja-di\\\"\u003eKontener IoC i automatyzacja DI\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#testowanie-z-wykorzystaniem-di\\\"\u003eTestowanie z wykorzystaniem DI\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#podsumowanie\\\"\u003ePodsumowanie\u003c/a\u003e\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003chr\u003e\\n\u003ch2 id=\\\"czym-jest-dependency-injection\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#czym-jest-dependency-injection\\\"\u003e\u003e\u003e\u003c/a\u003eCzym jest Dependency Injection?\u003c/h2\u003e\\n\u003cp\u003e\u003cstrong\u003eDependency Injection\u003c/strong\u003e polega na przekazywaniu obiekt√≥w zale≈ºnych (tzw. zale≈ºno≈õci) do obiektu zamiast tworzenia ich bezpo≈õrednio w jego wnƒôtrzu. Dziƒôki temu mo≈ºemy ≈Çatwo podmieniaƒá zale≈ºno≈õci - np. na ich mocki podczas testowania - bez zmian w logice biznesowej.\u003c/p\u003e\\n\u003cp\u003eDI zwiƒôksza elastyczno≈õƒá kodu, u≈Çatwia jego testowanie oraz pozwala na lepszƒÖ separacjƒô odpowiedzialno≈õci. Dziƒôki temu Tw√≥j kod staje siƒô bardziej modularny, przejrzysty i ≈Çatwy w utrzymaniu. üí°\u003c/p\u003e\\n\u003chr\u003e\\n\u003ch2 id=\\\"zalety-stosowania-di\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#zalety-stosowania-di\\\"\u003e\u003e\u003e\u003c/a\u003eZalety stosowania DI\u003c/h2\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003cstrong\u003e≈Åatwiejsze testowanie\u003c/strong\u003e - zale≈ºno≈õci mo≈ºna zamieniaƒá na mocki lub stuby w testach jednostkowych.\u003c/li\u003e\\n\u003cli\u003e\u003cstrong\u003eLepsza modularno≈õƒá\u003c/strong\u003e - klasy nie sƒÖ silnie powiƒÖzane z konkretnymi implementacjami.\u003c/li\u003e\\n\u003cli\u003e\u003cstrong\u003e≈Åatwiejsze zarzƒÖdzanie zale≈ºno≈õciami\u003c/strong\u003e - zmiany w zale≈ºno≈õciach nie wymagajƒÖ modyfikacji ca≈Çego kodu.\u003c/li\u003e\\n\u003cli\u003e\u003cstrong\u003eWspieranie zasad SOLID\u003c/strong\u003e - zw≈Çaszcza zasady odwr√≥cenia zale≈ºno≈õci (Dependency Inversion Principle).\u003c/li\u003e\\n\u003cli\u003e\u003cstrong\u003eZwiƒôkszona elastyczno≈õƒá\u003c/strong\u003e - ≈Çatwo rozszerzaƒá i modyfikowaƒá funkcjonalno≈õƒá bez naruszania istniejƒÖcych klas.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003chr\u003e\\n\u003ch2 id=\\\"podstawowy-przyk≈Çad-dependency-injection\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#podstawowy-przyk≈Çad-dependency-injection\\\"\u003e\u003e\u003e\u003c/a\u003ePodstawowy przyk≈Çad Dependency Injection\u003c/h2\u003e\\n\u003cp\u003eRozwa≈ºmy prosty scenariusz, w kt√≥rym klasa \u003ccode\u003eUserService\u003c/code\u003e korzysta z \u003ccode\u003eUserRepository\u003c/code\u003e:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs language-typescript\\\"\u003e\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e {\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003egetUser\u003c/span\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003euserId\u003c/span\u003e: \u003cspan class=\\\"hljs-built_in\\\"\u003enumber\u003c/span\u003e): \u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e`User \u003cspan class=\\\"hljs-subst\\\"\u003e${userId}\u003c/span\u003e`\u003c/span\u003e;\\n  }\\n}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserService\u003c/span\u003e {\\n  \u003cspan class=\\\"hljs-keyword\\\"\u003eprivate\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003euserRepository\u003c/span\u003e: \u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e;\\n\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003econstructor\u003c/span\u003e(\u003cspan class=\\\"hljs-params\\\"\u003e\u003cspan class=\\\"hljs-attr\\\"\u003euserRepository\u003c/span\u003e: \u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e\u003c/span\u003e) {\\n    \u003cspan class=\\\"hljs-variable language_\\\"\u003ethis\u003c/span\u003e.\u003cspan class=\\\"hljs-property\\\"\u003euserRepository\u003c/span\u003e = userRepository;\\n  }\\n\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003egetUserName\u003c/span\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003euserId\u003c/span\u003e: \u003cspan class=\\\"hljs-built_in\\\"\u003enumber\u003c/span\u003e): \u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"hljs-variable language_\\\"\u003ethis\u003c/span\u003e.\u003cspan class=\\\"hljs-property\\\"\u003euserRepository\u003c/span\u003e.\u003cspan class=\\\"hljs-title function_\\\"\u003egetUser\u003c/span\u003e(userId);\\n  }\\n}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e userRepository = \u003cspan class=\\\"hljs-keyword\\\"\u003enew\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e();\\n\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e userService = \u003cspan class=\\\"hljs-keyword\\\"\u003enew\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserService\u003c/span\u003e(userRepository);\\n\\n\u003cspan class=\\\"hljs-variable language_\\\"\u003econsole\u003c/span\u003e.\u003cspan class=\\\"hljs-title function_\\\"\u003elog\u003c/span\u003e(userService.\u003cspan class=\\\"hljs-title function_\\\"\u003egetUserName\u003c/span\u003e(\u003cspan class=\\\"hljs-number\\\"\u003e1\u003c/span\u003e)); \u003cspan class=\\\"hljs-comment\\\"\u003e// User 1\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003cstrong\u003eWyja≈õnienie:\u003c/strong\u003e\u003cbr\u003e\\nW tym przyk≈Çadzie \u003ccode\u003eUserRepository\u003c/code\u003e jest wstrzykiwany do \u003ccode\u003eUserService\u003c/code\u003e poprzez konstruktor. Dziƒôki temu mo≈ºemy ≈Çatwo podmieniƒá repozytorium np. w testach jednostkowych lub zamieniƒá na innƒÖ implementacjƒô.\u003c/p\u003e\\n\u003chr\u003e\\n\u003ch2 id=\\\"wstrzykiwanie-zale≈ºno≈õci-przy-pomocy-funkcji\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#wstrzykiwanie-zale≈ºno≈õci-przy-pomocy-funkcji\\\"\u003e\u003e\u003e\u003c/a\u003eWstrzykiwanie zale≈ºno≈õci przy pomocy funkcji\u003c/h2\u003e\\n\u003cp\u003eW wiƒôkszych aplikacjach zarzƒÖdzanie zale≈ºno≈õciami rƒôcznie mo≈ºe byƒá uciƒÖ≈ºliwe. Mo≈ºemy zastosowaƒá funkcjƒô \u003ccode\u003einject\u003c/code\u003e, kt√≥ra bƒôdzie przechowywaƒá i dostarczaƒá instancje klas (prosta wersja kontenera IoC):\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs language-typescript\\\"\u003e\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003edependencies\u003c/span\u003e: \u003cspan class=\\\"hljs-title class_\\\"\u003eMap\u003c/span\u003e\u0026#x3C;\u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e, \u003cspan class=\\\"hljs-built_in\\\"\u003eany\u003c/span\u003e\u003e = \u003cspan class=\\\"hljs-keyword\\\"\u003enew\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eMap\u003c/span\u003e();\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003efunction\u003c/span\u003e inject\u0026#x3C;T\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003edependency\u003c/span\u003e: \u003cspan class=\\\"hljs-title function_\\\"\u003enew\u003c/span\u003e () =\u003e T): T {\\n  \u003cspan class=\\\"hljs-keyword\\\"\u003eif\u003c/span\u003e (dependencies.\u003cspan class=\\\"hljs-title function_\\\"\u003ehas\u003c/span\u003e(dependency.\u003cspan class=\\\"hljs-property\\\"\u003ename\u003c/span\u003e)) {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e dependencies.\u003cspan class=\\\"hljs-title function_\\\"\u003eget\u003c/span\u003e(dependency.\u003cspan class=\\\"hljs-property\\\"\u003ename\u003c/span\u003e);\\n  }\\n  \u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e dep = \u003cspan class=\\\"hljs-keyword\\\"\u003enew\u003c/span\u003e \u003cspan class=\\\"hljs-title function_\\\"\u003edependency\u003c/span\u003e();\\n  dependencies.\u003cspan class=\\\"hljs-title function_\\\"\u003eset\u003c/span\u003e(dependency.\u003cspan class=\\\"hljs-property\\\"\u003ename\u003c/span\u003e, dep);\\n  \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e dep;\\n}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e {\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003egetUser\u003c/span\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003euserId\u003c/span\u003e: \u003cspan class=\\\"hljs-built_in\\\"\u003enumber\u003c/span\u003e): \u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e`User \u003cspan class=\\\"hljs-subst\\\"\u003e${userId}\u003c/span\u003e`\u003c/span\u003e;\\n  }\\n}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserService\u003c/span\u003e {\\n  \u003cspan class=\\\"hljs-keyword\\\"\u003eprotected\u003c/span\u003e userRepository = \u003cspan class=\\\"hljs-title function_\\\"\u003einject\u003c/span\u003e(\u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e);\\n\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003egetUserName\u003c/span\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003euserId\u003c/span\u003e: \u003cspan class=\\\"hljs-built_in\\\"\u003enumber\u003c/span\u003e): \u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"hljs-variable language_\\\"\u003ethis\u003c/span\u003e.\u003cspan class=\\\"hljs-property\\\"\u003euserRepository\u003c/span\u003e.\u003cspan class=\\\"hljs-title function_\\\"\u003egetUser\u003c/span\u003e(userId);\\n  }\\n}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eExtendedUserService\u003c/span\u003e \u003cspan class=\\\"hljs-keyword\\\"\u003eextends\u003c/span\u003e \u003cspan class=\\\"hljs-title class_ inherited__\\\"\u003eUserService\u003c/span\u003e {}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e extendedUserService = \u003cspan class=\\\"hljs-title function_\\\"\u003einject\u003c/span\u003e(\u003cspan class=\\\"hljs-title class_\\\"\u003eExtendedUserService\u003c/span\u003e);\\n\\n\u003cspan class=\\\"hljs-variable language_\\\"\u003econsole\u003c/span\u003e.\u003cspan class=\\\"hljs-title function_\\\"\u003elog\u003c/span\u003e(extendedUserService.\u003cspan class=\\\"hljs-title function_\\\"\u003egetUserName\u003c/span\u003e(\u003cspan class=\\\"hljs-number\\\"\u003e1\u003c/span\u003e)); \u003cspan class=\\\"hljs-comment\\\"\u003e// User 1\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003cstrong\u003eWyja≈õnienie:\u003c/strong\u003e\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eFunkcja \u003ccode\u003einject\u003c/code\u003e rejestruje i przechowuje instancje klas, zapewniajƒÖc singleton dla ka≈ºdej z nich.\u003c/li\u003e\\n\u003cli\u003eNie musisz przekazywaƒá zale≈ºno≈õci przez konstruktor - sƒÖ pobierane automatycznie.\u003c/li\u003e\\n\u003cli\u003eKlasy mo≈ºna ≈Çatwo rozszerzaƒá, a zale≈ºno≈õci sƒÖ zarzƒÖdzane centralnie - to du≈ºe u≈Çatwienie w du≈ºych projektach. üõ†Ô∏è\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003chr\u003e\\n\u003ch2 id=\\\"kontener-ioc-i-automatyzacja-di\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#kontener-ioc-i-automatyzacja-di\\\"\u003e\u003e\u003e\u003c/a\u003eKontener IoC i automatyzacja DI\u003c/h2\u003e\\n\u003cp\u003eW rozbudowanych projektach warto rozwa≈ºyƒá u≈ºycie gotowych rozwiƒÖza≈Ñ, np. \u003ca href=\\\"https://inversify.io/\\\"\u003eInversifyJS\u003c/a\u003e, kt√≥re pozwalajƒÖ korzystaƒá z dekorator√≥w i automatycznie rozwiƒÖzywaƒá zale≈ºno≈õci.\u003c/p\u003e\\n\u003cp\u003ePrzyk≈Çad z u≈ºyciem InversifyJS:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs language-typescript\\\"\u003e\u003cspan class=\\\"hljs-keyword\\\"\u003eimport\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\\\"reflect-metadata\\\"\u003c/span\u003e;\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eimport\u003c/span\u003e { injectable, inject, \u003cspan class=\\\"hljs-title class_\\\"\u003eContainer\u003c/span\u003e } \u003cspan class=\\\"hljs-keyword\\\"\u003efrom\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\\\"inversify\\\"\u003c/span\u003e;\\n\\n\u003cspan class=\\\"hljs-meta\\\"\u003e@injectable\u003c/span\u003e()\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e {\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003egetUser\u003c/span\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003euserId\u003c/span\u003e: \u003cspan class=\\\"hljs-built_in\\\"\u003enumber\u003c/span\u003e): \u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e`User \u003cspan class=\\\"hljs-subst\\\"\u003e${userId}\u003c/span\u003e`\u003c/span\u003e;\\n  }\\n}\\n\\n\u003cspan class=\\\"hljs-meta\\\"\u003e@injectable\u003c/span\u003e()\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserService\u003c/span\u003e {\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003econstructor\u003c/span\u003e(\u003cspan class=\\\"hljs-params\\\"\u003e\u003cspan class=\\\"hljs-meta\\\"\u003e@inject\u003c/span\u003e(UserRepository) \u003cspan class=\\\"hljs-keyword\\\"\u003eprivate\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003euserRepository\u003c/span\u003e: \u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e\u003c/span\u003e) {}\\n\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003egetUserName\u003c/span\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003euserId\u003c/span\u003e: \u003cspan class=\\\"hljs-built_in\\\"\u003enumber\u003c/span\u003e): \u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"hljs-variable language_\\\"\u003ethis\u003c/span\u003e.\u003cspan class=\\\"hljs-property\\\"\u003euserRepository\u003c/span\u003e.\u003cspan class=\\\"hljs-title function_\\\"\u003egetUser\u003c/span\u003e(userId);\\n  }\\n}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e container = \u003cspan class=\\\"hljs-keyword\\\"\u003enew\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eContainer\u003c/span\u003e();\\ncontainer.\u003cspan class=\\\"hljs-title function_\\\"\u003ebind\u003c/span\u003e(\u003cspan class=\\\"hljs-title class_\\\"\u003eUserRepository\u003c/span\u003e).\u003cspan class=\\\"hljs-title function_\\\"\u003etoSelf\u003c/span\u003e();\\ncontainer.\u003cspan class=\\\"hljs-title function_\\\"\u003ebind\u003c/span\u003e(\u003cspan class=\\\"hljs-title class_\\\"\u003eUserService\u003c/span\u003e).\u003cspan class=\\\"hljs-title function_\\\"\u003etoSelf\u003c/span\u003e();\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e userService = container.\u003cspan class=\\\"hljs-title function_\\\"\u003eget\u003c/span\u003e(\u003cspan class=\\\"hljs-title class_\\\"\u003eUserService\u003c/span\u003e);\\n\u003cspan class=\\\"hljs-variable language_\\\"\u003econsole\u003c/span\u003e.\u003cspan class=\\\"hljs-title function_\\\"\u003elog\u003c/span\u003e(userService.\u003cspan class=\\\"hljs-title function_\\\"\u003egetUserName\u003c/span\u003e(\u003cspan class=\\\"hljs-number\\\"\u003e1\u003c/span\u003e)); \u003cspan class=\\\"hljs-comment\\\"\u003e// User 1\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003cstrong\u003eZalety takiego podej≈õcia:\u003c/strong\u003e\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eAutomatyczna rejestracja i rozwiƒÖzywanie zale≈ºno≈õci.\u003c/li\u003e\\n\u003cli\u003eWsparcie dla r√≥≈ºnych zakres√≥w ≈ºycia obiektu (singleton, transient).\u003c/li\u003e\\n\u003cli\u003eMo≈ºliwo≈õƒá wstrzykiwania zale≈ºno≈õci przez dekoratory.\u003c/li\u003e\\n\u003cli\u003e≈Åatwiejsze zarzƒÖdzanie rozbudowanƒÖ strukturƒÖ aplikacji.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003chr\u003e\\n\u003ch2 id=\\\"testowanie-z-wykorzystaniem-di\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#testowanie-z-wykorzystaniem-di\\\"\u003e\u003e\u003e\u003c/a\u003eTestowanie z wykorzystaniem DI\u003c/h2\u003e\\n\u003cp\u003eDziƒôki zastosowaniu DI mo≈ºemy ≈Çatwo podmieniaƒá implementacje zale≈ºno≈õci, np. na mocki lub stuby podczas test√≥w jednostkowych:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs language-typescript\\\"\u003e\u003cspan class=\\\"hljs-keyword\\\"\u003eclass\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eMockUserRepository\u003c/span\u003e {\\n  \u003cspan class=\\\"hljs-title function_\\\"\u003egetUser\u003c/span\u003e(\u003cspan class=\\\"hljs-attr\\\"\u003euserId\u003c/span\u003e: \u003cspan class=\\\"hljs-built_in\\\"\u003enumber\u003c/span\u003e): \u003cspan class=\\\"hljs-built_in\\\"\u003estring\u003c/span\u003e {\\n    \u003cspan class=\\\"hljs-keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\\\"Mock User\\\"\u003c/span\u003e;\\n  }\\n}\\n\\n\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e mockRepo = \u003cspan class=\\\"hljs-keyword\\\"\u003enew\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eMockUserRepository\u003c/span\u003e();\\n\u003cspan class=\\\"hljs-keyword\\\"\u003econst\u003c/span\u003e userService = \u003cspan class=\\\"hljs-keyword\\\"\u003enew\u003c/span\u003e \u003cspan class=\\\"hljs-title class_\\\"\u003eUserService\u003c/span\u003e(mockRepo);\\n\\n\u003cspan class=\\\"hljs-variable language_\\\"\u003econsole\u003c/span\u003e.\u003cspan class=\\\"hljs-title function_\\\"\u003elog\u003c/span\u003e(userService.\u003cspan class=\\\"hljs-title function_\\\"\u003egetUserName\u003c/span\u003e(\u003cspan class=\\\"hljs-number\\\"\u003e1\u003c/span\u003e)); \u003cspan class=\\\"hljs-comment\\\"\u003e// Mock User\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003cstrong\u003eKorzy≈õci:\u003c/strong\u003e\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eTesty sƒÖ niezale≈ºne od rzeczywistej implementacji zale≈ºno≈õci.\u003c/li\u003e\\n\u003cli\u003eMo≈ºna ≈Çatwo symulowaƒá r√≥≈ºne scenariusze i przypadki brzegowe.\u003c/li\u003e\\n\u003cli\u003eUtrzymanie i rozwijanie test√≥w staje siƒô prostsze.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003chr\u003e\\n\u003ch2 id=\\\"podsumowanie\\\" class=\\\"scroll-mt-20\\\"\u003e\u003ca class=\\\"mr-2 no-underline hover:underline focus-visible:underline select-none\\\" href=\\\"#podsumowanie\\\"\u003e\u003e\u003e\u003c/a\u003ePodsumowanie\u003c/h2\u003e\\n\u003cp\u003eDependency Injection w TypeScript to potƒô≈ºny spos√≥b na zwiƒôkszenie elastyczno≈õci, testowalno≈õci i modularno≈õci kodu. Najprostsze podej≈õcie to rƒôczne wstrzykiwanie zale≈ºno≈õci przez konstruktor, jednak w miarƒô wzrostu projektu warto pomy≈õleƒá o w≈Çasnym kontenerze IoC lub siƒôgnƒÖƒá po gotowe biblioteki jak InversifyJS. DI pozwala na lepszƒÖ separacjƒô odpowiedzialno≈õci i sprawia, ≈ºe kod jest ≈Çatwiejszy w utrzymaniu i testowaniu.\u003c/p\u003e\\n\u003chr\u003e\\n\u003cp\u003e\u003cstrong\u003eDalsza lektura:\u003c/strong\u003e üìö\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ca href=\\\"https://github.com/inversify/InversifyJS\\\"\u003eInversifyJS Documentation\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"https://angular.dev/guide/di\\\"\u003eDependency Injection w TypeScript - Angular\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"https://en.wikipedia.org/wiki/SOLID\\\"\u003eSOLID Principles\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\",\"readingTime\",\"3 minuty\",\"createdAt\",\"2024-06-20T00:00:00.000Z\",\"categories\",[15,16],\"typescript\",\"wzorce-projektowe\",\"keywords\",[15,19,20,21],\"wzorce projektowe\",\"javascript\",\"blog\",\"description\",\"Dependency Injection (DI) to wzorzec projektowy stosowany w celu zwiƒôkszenia modularno≈õci i testowalno≈õci kodu. Umo≈ºliwia to oddzielenie tworzenia obiekt√≥w od ich u≈ºywania, co prowadzi do lepszej separacji odpowiedzialno≈õci i ≈Çatwiejszego zarzƒÖdzania zale≈ºno≈õciami. W TypeScript, DI mo≈ºna zaimplementowaƒá na kilka sposob√≥w, w tym za funkcji wstrzykujƒÖcych, kt√≥re sƒÖ odpowiedzialne za tworzenie i wstrzykiwanie zale≈ºno≈õci. Przyjrzyjmy siƒô, jak mo≈ºna zaimplementowaƒá DI w TypeScript z wykorzystaniem prostych przyk≈Çad√≥w.\",\"title\",\"Szczepienie kodu, czyli jak Typescript radzi sobie z Dependency Injection\",\"actionData\",\"errors\"]\n");</script><!--$?--><template id="B:1"></template><!--/$--></div><script>$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><div hidden id="S:1"><script>window.__reactRouterContext.streamController.close();</script></div><script>$RC("B:1","S:1")</script></body></html>